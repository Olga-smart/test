(self.webpackChunk=self.webpackChunk||[]).push([[906],{95567:(e,t,i)=>{"use strict";i(83875);class a{constructor(){this.listeners=[]}subscribe(e){this.listeners.push(e)}unsubscribe(e){this.listeners=this.listeners.filter((t=>t!==e))}notify(e,t=null){0!==this.listeners.length&&this.listeners.forEach((i=>i.inform(e,t)))}}const s=class{constructor(e,t){this.component=document.createElement(e),t&&(this.component.className=t)}static createComponent(e,t){const i=document.createElement(e);return t&&(i.className=t),i}getComponent(){return this.component}getBoundingClientRect(){return this.component.getBoundingClientRect()}getWidth(){return this.component.offsetWidth}getHeight(){return this.component.offsetHeight}setIndent(e,t){"number"==typeof t&&(this.component.style[e]=`${t}%`),"string"==typeof t&&(this.component.style[e]=t)}remove(){this.component.remove()}},n=class extends s{constructor(e){super("div","range-slider__track"),this.view=e,this.attachEventHandlers()}append(...e){this.component.append(...e)}handleClick(e){if(e.currentTarget instanceof HTMLElement){const t=e.clientX-e.currentTarget.getBoundingClientRect().left,i=e.clientY-e.currentTarget.getBoundingClientRect().top;this.view.handleScaleOrTrackClick(t,i)}}attachEventHandlers(){this.component.addEventListener("click",this.handleClick.bind(this))}},l=class extends s{constructor(){super("div","range-slider__range")}setWidth(e){this.component.style.width=`${e}%`}setHeight(e){this.component.style.height=`${e}%`}resetWidth(){this.component.style.width="unset"}resetHeight(){this.component.style.height="unset"}resetTopIndent(){this.component.style.top="unset"}};class h extends s{constructor(e,t="left"){super("div",`range-slider__thumb range-slider__thumb_${t}`),this.type=t,this.view=e,this.attachEventHandlers()}getLeftIndent(){return this.component.style.left}getTopIndent(){return this.component.style.top}setZIndex(e){this.component.style.zIndex=`${e}`}static handlePointerOver(e){e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.add("range-slider__thumb_hover")}static handlePointerOut(e){e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.remove("range-slider__thumb_hover")}static handlePointerUp(e){e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.remove("range-slider__thumb_active")}static handleDragStart(){return!1}handlePointerDown(e){if(e.currentTarget instanceof HTMLElement){e.currentTarget.classList.add("range-slider__thumb_active"),e.currentTarget.setPointerCapture(e.pointerId),e.preventDefault();const t=e.clientX-e.currentTarget.getBoundingClientRect().left,i=e.clientY-e.currentTarget.getBoundingClientRect().top,a=e=>{"left"===this.type&&this.view.handleLeftInput(e.clientX,e.clientY,t,i),"right"===this.type&&this.view.handleRightInput(e.clientX,e.clientY,t,i)},s=()=>{this.component.removeEventListener("pointermove",a),this.component.removeEventListener("pointerup",s)};this.component.addEventListener("pointermove",a),this.component.addEventListener("pointerup",s)}}attachEventHandlers(){this.component.addEventListener("pointerover",h.handlePointerOver),this.component.addEventListener("pointerout",h.handlePointerOut),this.component.addEventListener("pointerdown",this.handlePointerDown.bind(this)),this.component.addEventListener("pointerup",h.handlePointerUp),this.component.addEventListener("dragstart",h.handleDragStart)}}const o=h,r=class extends s{constructor(e,t,i){super("div","range-slider__scale"),this.view=i,this.intervals=[],this.values=[],this.valueElements=[];const a=i.getScaleIntervals();this.createIntervals(a),this.addMarksInIntervals(a),this.addValues(e,t,a),this.attachEventHandlers()}fitWidthForVertical(e=3){let t=0;this.valueElements.forEach((e=>{e.offsetWidth>t&&(t=e.offsetWidth)})),this.component.style.paddingRight=`${t+e}px`}fitHeightForHorizontal(e=3){let t=0;this.valueElements.forEach((e=>{e.offsetHeight>t&&(t=e.offsetHeight)})),this.component.style.paddingBottom=`${t+e}px`}handleSwitchFromHorizontalToVertical(){this.component.style.paddingBottom="unset",this.fitWidthForVertical()}handleSwitchFromVerticalToHorizontal(){this.component.style.paddingRight="unset",this.fitHeightForHorizontal()}createIntervals(e){const t=new DocumentFragment;for(let i=0;i<e;i+=1)this.intervals[i]=s.createComponent("div","range-slider__scale-interval"),t.append(this.intervals[i]);this.component.append(t)}addMarksInIntervals(e){this.intervals.forEach((t=>{const i=new DocumentFragment;e<29&&i.append(s.createComponent("span","range-slider__scale-mark")),e<15&&i.append(s.createComponent("span","range-slider__scale-mark")),e<8&&i.append(s.createComponent("span","range-slider__scale-mark")),e<5&&i.append(s.createComponent("span","range-slider__scale-mark")),t.append(i)}))}addValues(e,t,i){this.values[0]=e;const a=(t-e)/i;let n=0;0!==Math.round(i/(t-e))&&(n=Math.round(i/(t-e)).toString().length);for(let t=1;t<i;t+=1)this.values[t]=Number((t*a+e).toFixed(n));this.values.push(t);const l=s.createComponent("span","range-slider__scale-interval-value range-slider__scale-interval-value_min");l.textContent=`${this.values[0]}`,this.intervals[0].append(l),this.valueElements.push(l);for(let e=1;e<this.values.length;e+=1){const t=s.createComponent("span","range-slider__scale-interval-value");t.textContent=`${this.values[e]}`,this.intervals[e-1].append(t),this.valueElements.push(t)}}handleClick(e){if(e.currentTarget instanceof HTMLElement){const t=e.clientX-e.currentTarget.getBoundingClientRect().left,i=e.clientY-e.currentTarget.getBoundingClientRect().top;this.view.handleScaleOrTrackClick(t,i)}}attachEventHandlers(){this.component.addEventListener("click",this.handleClick.bind(this))}},u=class extends s{constructor(){super("div","range-slider__labels-container")}append(...e){this.component.append(...e)}fixWidthForVertical(e,t=4){let i=0;e.forEach((e=>{e.offsetWidth>i&&(i=e.offsetWidth)})),this.component.style.paddingLeft=`${i+t}px`}fixHeightForHorizontal(e,t=4){let i=0;e.forEach((e=>{e.offsetHeight>i&&(i=e.offsetHeight)})),this.component.style.paddingTop=`${i+t}px`}},d=class extends s{constructor(e){super("div",e)}setOpacity(e){this.component.style.opacity=`${e}`}setValue(e){this.component.textContent=`${e}`}getValue(){return Number(this.component.textContent)}getLeftIndent(){return this.component.style.left}getTopIndent(){return this.component.style.top}},m=class extends s{constructor(){super("input","range-slider__input"),this.setAttributes()}setValue(e,t=null){this.component.value=null===t?`${e}`:`${e} - ${t}`}setAttributes(){this.component.type="text",this.component.tabIndex=-1,this.component.readOnly=!0}};class g extends s{constructor(e){super("form","panel"),this.view=e,this.min=s.createComponent("input","panel__min panel__input"),this.max=s.createComponent("input","panel__max panel__input"),this.step=s.createComponent("input","panel__step panel__input"),this.from=s.createComponent("input","panel__from panel__input"),this.to=s.createComponent("input","panel__to panel__input"),this.vertical=s.createComponent("input","panel__vertical panel__checkbox"),this.range=s.createComponent("input","panel__range panel__checkbox"),this.scale=s.createComponent("input","panel__scale panel__checkbox"),this.scaleIntervals=s.createComponent("input","panel__scale-intervals panel__input"),this.valueLabels=s.createComponent("input","panel__value-labels panel__checkbox"),this.minMaxLabels=s.createComponent("input","panel__min-max-labels panel__checkbox"),this.render(),this.attachEventHandlers()}setValues(e){this.min.value=`${e.min}`,this.max.value=`${e.max}`,this.step.value=`${e.step}`,this.from.value=`${e.from}`,this.to.value=null!==e.to?`${e.to}`:"",this.vertical.checked=e.vertical,this.range.checked=e.range,this.scale.checked=e.scale,this.scaleIntervals.value=`${e.scaleIntervals}`,this.valueLabels.checked=e.valueLabels,this.minMaxLabels.checked=e.minMaxLabels,this.setCheckMarks(),this.setAttributes(e)}updateFrom(e){this.from.value=`${e}`,this.updateAttributesAfterFromChange()}updateTo(e){this.to.value=`${e}`,this.updateAttributesAfterToChange()}updateStep(e){this.step.value=`${e}`,this.updateAttributesAfterStepChange()}updateMin(e){this.min.value=`${e}`,this.updateAttributesAfterMinChange()}updateMax(e){this.max.value=`${e}`,this.updateAttributesAfterMaxChange()}updateScaleIntervals(e){this.scaleIntervals.value=`${e}`}static addLabel(e,t,i){const a=s.createComponent("label","panel__label");return a.textContent=t,i&&a.classList.add(i),a.append(e),a}static calcStepMin(e){if(Number.isInteger(e))return 1;let t="1";for(let i=e.toString().split(".")[1].length;i>1;i-=1)t=`0${t}`;return t=`0.${t}`,Number(t)}static toggleCheckbox(e){const t=e.closest("label");null==t||t.classList.toggle("panel__label_for-checkbox_checked")}render(){this.setTypes(),this.component.append(g.addLabel(this.range,"Range:","panel__label_for-checkbox"),g.addLabel(this.vertical,"Vertical:","panel__label_for-checkbox"),g.addLabel(this.valueLabels,"Value labels:","panel__label_for-checkbox"),g.addLabel(this.minMaxLabels,"Min&max labels:","panel__label_for-checkbox"),g.addLabel(this.scale,"Scale:","panel__label_for-checkbox"),g.addLabel(this.scaleIntervals,"Scale intervals:"),g.addLabel(this.min,"Min:"),g.addLabel(this.max,"Max:"),g.addLabel(this.from,"From:"),g.addLabel(this.to,"To:"),g.addLabel(this.step,"Step:"))}setTypes(){this.min.type="number",this.max.type="number",this.step.type="number",this.from.type="number",this.to.type="number",this.vertical.type="checkbox",this.range.type="checkbox",this.scale.type="checkbox",this.scaleIntervals.type="number",this.valueLabels.type="checkbox",this.minMaxLabels.type="checkbox"}setAttributes(e){this.from.min=`${e.min}`,this.from.max=e.range?`${e.to}`:`${e.max}`,this.to.min=`${e.from}`,this.to.max=`${e.max}`,this.from.step=`${e.step}`,this.to.step=`${e.step}`,this.min.step=`${e.step}`,this.max.step=`${e.step}`,this.min.max=`${e.from}`,this.max.min=e.range?`${e.to}`:`${e.from}`,this.step.min=`${g.calcStepMin(e.step)}`,this.step.step=this.step.min,this.step.max=`${Math.abs(e.max-e.min)}`,e.range||(this.to.disabled=!0),this.scaleIntervals.min="1",e.scale||(this.scaleIntervals.disabled=!0)}setCheckMarks(){[this.vertical,this.range,this.scale,this.valueLabels,this.minMaxLabels].forEach((e=>{e.checked&&g.toggleCheckbox(e)}))}updateAttributesAfterFromChange(){this.min.max=this.from.value,this.view.isRange()&&(this.to.min=this.from.value),this.view.isRange()||(this.max.min=this.from.value)}updateAttributesAfterToChange(){this.from.max=this.to.value,this.max.min=this.to.value}updateAttributesAfterStepChange(){this.step.min=`${g.calcStepMin(Number(this.step.value))}`,this.step.step=`${g.calcStepMin(Number(this.step.value))}`,this.from.step=this.step.value,this.to.step=this.step.value,this.min.step=this.step.value,this.max.step=this.step.value}updateAttributesAfterMinChange(){this.from.min=this.min.value}updateAttributesAfterMaxChange(){this.view.isRange()||(this.from.max=this.max.value),this.view.isRange()&&(this.to.max=this.max.value)}handleMinChange(){Number(this.min.value)>Number(this.from.value)&&(this.min.value=this.from.value),this.view.setMinFromOutside(Number(this.min.value)),this.step.max=`${Math.abs(Number(this.max.value)-Number(this.min.value))}`,this.updateAttributesAfterMinChange()}handleMaxChange(){this.view.isRange()||Number(this.max.value)<Number(this.from.value)&&(this.max.value=this.from.value),this.view.isRange()&&Number(this.max.value)<Number(this.to.value)&&(this.max.value=this.to.value),this.view.setMaxFromOutside(Number(this.max.value)),this.step.max=`${Math.abs(Number(this.max.value)-Number(this.min.value))}`,this.updateAttributesAfterMaxChange()}handleStepChange(){Number(this.step.value)>Number(this.step.max)&&(this.step.value=this.step.max),Number(this.step.value)<=0&&(this.step.value=this.step.min),this.view.setStepFromOutside(Number(this.step.value)),this.updateAttributesAfterStepChange()}handleFromChange(){Number(this.from.value)>Number(this.from.max)&&(this.from.value=this.from.max),Number(this.from.value)<Number(this.from.min)&&(this.from.value=this.from.min),this.view.setLeftFromOutside(Number(this.from.value)),this.updateAttributesAfterFromChange()}handleToChange(){Number(this.to.value)>Number(this.to.max)&&(this.to.value=this.to.max),Number(this.to.value)<Number(this.to.min)&&(this.to.value=this.to.min),this.view.setRightFromOutside(Number(this.to.value)),this.updateAttributesAfterToChange()}handleVerticalChange(){this.view.toggleOrientationFromOutside(),g.toggleCheckbox(this.vertical)}handleRangeChange(){this.view.toggleRangeFromOutside(),this.to.disabled=!this.to.disabled,this.range.checked?this.from.max=this.to.value:this.from.max=this.max.value,g.toggleCheckbox(this.range)}handleScaleChange(){this.view.toggleScaleFromOutside(),this.scaleIntervals.disabled=!this.scaleIntervals.disabled,g.toggleCheckbox(this.scale)}handleScaleIntervalsChange(){Number(this.scaleIntervals.value)<Number(this.scaleIntervals.min)&&(this.scaleIntervals.value=this.scaleIntervals.min),Number.isInteger(this.scaleIntervals.value)||(this.scaleIntervals.value=`${Math.floor(Number(this.scaleIntervals.value))}`),this.view.setScaleIntervals(Number(this.scaleIntervals.value))}handleValueLabelsChange(){this.view.toggleValueLabels(),g.toggleCheckbox(this.valueLabels)}handleMinMaxLabelsChange(){this.view.toggleMinMaxLabels(),g.toggleCheckbox(this.minMaxLabels)}attachEventHandlers(){this.min.addEventListener("change",this.handleMinChange.bind(this)),this.max.addEventListener("change",this.handleMaxChange.bind(this)),this.step.addEventListener("change",this.handleStepChange.bind(this)),this.from.addEventListener("change",this.handleFromChange.bind(this)),this.to.addEventListener("change",this.handleToChange.bind(this)),this.vertical.addEventListener("change",this.handleVerticalChange.bind(this)),this.range.addEventListener("change",this.handleRangeChange.bind(this)),this.scale.addEventListener("change",this.handleScaleChange.bind(this)),this.scaleIntervals.addEventListener("change",this.handleScaleIntervalsChange.bind(this)),this.valueLabels.addEventListener("change",this.handleValueLabelsChange.bind(this)),this.minMaxLabels.addEventListener("change",this.handleMinMaxLabelsChange.bind(this))}}const c=class extends s{constructor(e,t={}){var i;super("div"),this.component=e,this.eventManager=new a,this.slider=s.createComponent("div","range-slider__slider"),this.track=new n(this),this.range=new l,this.thumbLeft=new o(this,"left"),this.input=new m,t.range&&(this.thumbRight=new o(this,"right")),this.scaleIntervals=null!==(i=t.scaleIntervals)&&void 0!==i?i:4,t.scale&&(this.scale=new r(0,100,this)),(t.minMaxLabels||t.valueLabels)&&(this.labelsContainer=new u,t.minMaxLabels&&(this.minLabel=new d("range-slider__min-max-label range-slider__min-max-label_left"),this.maxLabel=new d("range-slider__min-max-label range-slider__min-max-label_right")),t.valueLabels&&(this.valueLabelLeft=new d("range-slider__value-label range-slider__value-label_left"),t.range&&(this.valueLabelRight=new d("range-slider__value-label range-slider__value-label_right"),this.valueLabelCommon=new d("range-slider__value-label range-slider__value-label_common")))),t.vertical&&(this.vertical=!0),t.panel&&(this.panel=new g(this)),this.render()}subscribe(e){this.eventManager.subscribe(e)}setMinValue(e){var t;null===(t=this.minLabel)||void 0===t||t.setValue(e)}setMaxValue(e){var t;null===(t=this.maxLabel)||void 0===t||t.setValue(e)}setLeftValue(e,t){var i,a,s,n,l;this.vertical||(this.thumbLeft.setIndent("left",t),this.isRange()?this.range.setIndent("left",t):this.range.setWidth(t),null===(i=this.valueLabelLeft)||void 0===i||i.setIndent("left",`${t}%`),this.thumbLeft.setZIndex(100===t?100:3)),this.vertical&&(this.thumbLeft.setIndent("top",100-t),this.isRange()?this.range.setIndent("bottom",t):this.range.setHeight(t),null===(a=this.valueLabelLeft)||void 0===a||a.setIndent("top",100-t+"%"),this.thumbLeft.setZIndex(100===t?100:3)),this.valueLabelLeft&&(this.valueLabelLeft.setValue(e),this.isRange()&&(null===(s=this.valueLabelCommon)||void 0===s||s.setValue(`${e} - ${null===(n=this.valueLabelRight)||void 0===n?void 0:n.getValue()}`),this.isTwoValueLabelsClose()?this.mergeLabels():this.splitLabels()),this.minLabel&&(this.minLabel.setOpacity(this.isLeftValueLabelCloseToMinLabel()?0:1),this.isRange()||null===(l=this.maxLabel)||void 0===l||l.setOpacity(this.isLeftValueLabelCloseToMaxLabel()?0:1)))}setRightValue(e,t){var i,a,s,n,l,h;this.vertical||(null===(i=this.thumbRight)||void 0===i||i.setIndent("left",t),this.range.setIndent("right",100-t),null===(a=this.valueLabelRight)||void 0===a||a.setIndent("left",`${t}%`)),this.vertical&&(null===(s=this.thumbRight)||void 0===s||s.setIndent("top",100-t),this.range.setIndent("top",100-t),null===(n=this.valueLabelRight)||void 0===n||n.setIndent("top",100-t+"%")),this.valueLabelRight&&(this.valueLabelRight.setValue(e),null===(l=this.valueLabelCommon)||void 0===l||l.setValue(`${null===(h=this.valueLabelLeft)||void 0===h?void 0:h.getValue()} - ${e}`),this.isTwoValueLabelsClose()?this.mergeLabels():this.splitLabels(),this.maxLabel&&this.maxLabel.setOpacity(this.isRightValueLabelCloseToMaxLabel()?0:1))}updateInput(e,t=null){this.input.setValue(e,t)}handleLeftInput(e,t,i=0,a=0){if(!this.vertical){const t=this.track.getBoundingClientRect().left;let a=e-i-t;if(a<0&&(a=0),!this.isRange()){const e=this.getTrackWidth();a>e&&(a=e)}if(this.isRange()&&this.thumbRight){const e=this.thumbRight.getBoundingClientRect().left+this.thumbRight.getWidth()/2-t;a>e&&(a=e)}this.eventManager.notify("viewInputLeft",a)}if(this.vertical){const e=this.track.getBoundingClientRect().top;let i=t-a-e;const s=this.getTrackHeight();if(i>s&&(i=s),!this.isRange()&&i<0&&(i=0),this.isRange()&&this.thumbRight){const t=this.thumbRight.getBoundingClientRect().top+this.thumbRight.getHeight()/2-e;i<t&&(i=t)}const n=s-i;this.eventManager.notify("viewInputLeft",n)}}handleRightInput(e,t,i=0,a=0){if(!this.vertical){const t=this.track.getBoundingClientRect().left;let a=e-i-t;const s=this.thumbLeft.getBoundingClientRect().left+this.thumbLeft.getWidth()/2-t;a<s&&(a=s);const n=this.getTrackWidth();a>n&&(a=n),this.eventManager.notify("viewInputRight",a)}if(this.vertical){const e=this.track.getBoundingClientRect().top;let i=t-a-e;i<0&&(i=0);const s=this.thumbLeft.getBoundingClientRect().top+this.thumbLeft.getHeight()/2-e;i>s&&(i=s);const n=this.getTrackHeight()-i;this.eventManager.notify("viewInputRight",n)}}addScale(e,t){this.scale=new r(e,t,this),this.slider.after(this.scale.getComponent()),this.vertical||this.scale.fitHeightForHorizontal(),this.vertical&&this.scale.fitWidthForVertical()}removeScale(){var e;null===(e=this.scale)||void 0===e||e.getComponent().remove(),this.scale=void 0}getScaleIntervals(){return this.scaleIntervals||0}handleScaleOrTrackClick(e,t){this.isRange()||(this.addSmoothTransition("left"),this.vertical?this.eventManager.notify("viewInputLeft",this.getTrackHeight()-t):this.eventManager.notify("viewInputLeft",e),setTimeout((()=>{this.removeSmoothTransition("left")}),1e3)),this.isRange()&&("left"===this.whichThumbIsNearer(e,t)?(this.addSmoothTransition("left"),this.vertical?this.eventManager.notify("viewInputLeft",this.getTrackHeight()-t):this.eventManager.notify("viewInputLeft",e),setTimeout((()=>{this.removeSmoothTransition("left")}),1e3)):(this.addSmoothTransition("right"),this.vertical?this.eventManager.notify("viewInputRight",this.getTrackHeight()-t):this.eventManager.notify("viewInputRight",e),setTimeout((()=>{this.removeSmoothTransition("right")}),1e3)))}fixLabelsContainerWidthForVertical(){var e;const t=this.collectLabels();null===(e=this.labelsContainer)||void 0===e||e.fixWidthForVertical(t)}fixLabelsContainerHeightForHorizontal(){var e;const t=this.collectLabels();null===(e=this.labelsContainer)||void 0===e||e.fixHeightForHorizontal(t)}setPanelValues(e){var t;null===(t=this.panel)||void 0===t||t.setValues(e)}updatePanelFrom(e){var t;null===(t=this.panel)||void 0===t||t.updateFrom(e)}updatePanelTo(e){var t;null===(t=this.panel)||void 0===t||t.updateTo(e)}updatePanelScaleIntervals(e){var t;null===(t=this.panel)||void 0===t||t.updateScaleIntervals(e)}updatePanelStep(e){var t;null===(t=this.panel)||void 0===t||t.updateStep(e)}updatePanelMin(e){var t;null===(t=this.panel)||void 0===t||t.updateMin(e)}updatePanelMax(e){var t;null===(t=this.panel)||void 0===t||t.updateMax(e)}setLeftFromOutside(e){this.eventManager.notify("viewSetLeftFromOutside",e)}setRightFromOutside(e){this.eventManager.notify("viewSetRightFromOutside",e)}setMinFromOutside(e){this.eventManager.notify("viewSetMin",e)}setMaxFromOutside(e){this.eventManager.notify("viewSetMax",e)}setStepFromOutside(e){this.eventManager.notify("viewSetStep",e)}toggleOrientationFromOutside(){var e,t,i,a,s,n,l,h,o,r;this.vertical=!this.vertical,this.destroy(),this.render(),this.vertical&&(this.thumbLeft.setIndent("left",0),null===(e=this.thumbRight)||void 0===e||e.setIndent("left",0),this.range.setIndent("left",0),this.range.setIndent("right",0),this.range.resetTopIndent(),this.range.resetWidth(),null===(t=this.valueLabelLeft)||void 0===t||t.setIndent("left","unset"),null===(i=this.valueLabelRight)||void 0===i||i.setIndent("left","unset"),null===(a=this.valueLabelCommon)||void 0===a||a.setIndent("left","unset"),this.hasLabels()&&this.fixLabelsContainerWidthForVertical(),null===(s=this.scale)||void 0===s||s.handleSwitchFromHorizontalToVertical()),this.vertical||(this.component.classList.remove("range-slider_vertical"),this.thumbLeft.setIndent("top",0),null===(n=this.thumbRight)||void 0===n||n.setIndent("top",0),this.range.setIndent("bottom",0),this.range.setIndent("top",0),this.range.resetHeight(),null===(l=this.valueLabelLeft)||void 0===l||l.setIndent("top","unset"),null===(h=this.valueLabelRight)||void 0===h||h.setIndent("top","unset"),null===(o=this.valueLabelCommon)||void 0===o||o.setIndent("top","unset"),this.hasLabels()&&this.fixLabelsContainerHeightForHorizontal(),null===(r=this.scale)||void 0===r||r.handleSwitchFromVerticalToHorizontal()),this.eventManager.notify("viewToggleOrientation")}toggleRangeFromOutside(){const e=!this.isRange();this.destroy(),e&&(this.thumbRight=new o(this,"right"),this.valueLabelLeft&&(this.valueLabelRight=new d("range-slider__value-label range-slider__value-label_right"),this.valueLabelCommon=new d("range-slider__value-label range-slider__value-label_common")),this.vertical||this.range.resetWidth(),this.vertical&&this.range.resetHeight()),e||(this.thumbRight=void 0,this.vertical&&this.range.resetTopIndent()),this.render(),this.eventManager.notify("viewToggleRange")}toggleScaleFromOutside(){this.eventManager.notify("viewToggleScale")}setScaleIntervals(e){e<=0||(this.scaleIntervals=Math.floor(e),this.removeScale(),this.eventManager.notify("viewSetScaleIntervals"))}toggleValueLabels(){var e,t,i,a,s;if(this.valueLabelLeft)return this.valueLabelLeft.remove(),null===(e=this.valueLabelRight)||void 0===e||e.remove(),null===(t=this.valueLabelCommon)||void 0===t||t.remove(),this.valueLabelLeft=void 0,this.valueLabelRight=void 0,this.valueLabelCommon=void 0,this.minLabel&&(this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical()),void(this.minLabel||(null===(i=this.labelsContainer)||void 0===i||i.remove(),this.labelsContainer=void 0));this.valueLabelLeft||(this.valueLabelLeft=new d("range-slider__value-label range-slider__value-label_left"),this.labelsContainer||(this.labelsContainer=new u,this.slider.before(this.labelsContainer.getComponent())),this.labelsContainer.append(this.valueLabelLeft.getComponent()),this.isRange()&&(this.valueLabelRight=new d("range-slider__value-label range-slider__value-label_right"),this.valueLabelCommon=new d("range-slider__value-label range-slider__value-label_common"),this.labelsContainer.append(null===(a=this.valueLabelRight)||void 0===a?void 0:a.getComponent(),null===(s=this.valueLabelCommon)||void 0===s?void 0:s.getComponent())),this.eventManager.notify("viewAddValueLabels"),this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical())}toggleMinMaxLabels(){var e,t;if(this.minLabel)return this.minLabel.remove(),null===(e=this.maxLabel)||void 0===e||e.remove(),this.minLabel=void 0,this.maxLabel=void 0,this.valueLabelLeft&&(this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical()),void(this.valueLabelLeft||(null===(t=this.labelsContainer)||void 0===t||t.remove(),this.labelsContainer=void 0));this.minLabel||(this.minLabel=new d("range-slider__min-max-label range-slider__min-max-label_left"),this.maxLabel=new d("range-slider__min-max-label range-slider__min-max-label_right"),this.labelsContainer||(this.labelsContainer=new u,this.slider.before(this.labelsContainer.getComponent())),this.labelsContainer.append(this.minLabel.getComponent(),this.maxLabel.getComponent()),this.eventManager.notify("viewAddMinMaxLabels"),this.vertical||this.fixLabelsContainerHeightForHorizontal(),this.vertical&&this.fixLabelsContainerWidthForVertical())}hasLabels(){return Boolean(this.valueLabelLeft||this.minLabel)}hasScale(){return Boolean(this.scale)}hasMinMaxLabels(){return Boolean(this.maxLabel)}hasValueLabels(){return Boolean(this.valueLabelLeft)}hasPanel(){return Boolean(this.panel)}isRange(){return Boolean(this.thumbRight)}isVertical(){return Boolean(this.vertical)}getTrackWidth(){return this.track.getWidth()}getTrackHeight(){return this.track.getHeight()}render(){var e,t,i;const a=new DocumentFragment;if(this.track.append(this.range.getComponent()),this.slider.append(this.track.getComponent(),this.thumbLeft.getComponent()),a.append(this.slider,this.input.getComponent()),this.isRange()&&this.thumbRight?this.slider.append(this.thumbRight.getComponent()):(this.vertical||this.range.setIndent("left",0),this.vertical&&this.range.setIndent("bottom",0)),this.minLabel&&this.maxLabel&&(null===(e=this.labelsContainer)||void 0===e||e.append(this.minLabel.getComponent(),this.maxLabel.getComponent())),this.valueLabelLeft&&(null===(t=this.labelsContainer)||void 0===t||t.append(this.valueLabelLeft.getComponent()),this.isRange()&&this.valueLabelRight&&this.valueLabelCommon&&(null===(i=this.labelsContainer)||void 0===i||i.append(this.valueLabelRight.getComponent(),this.valueLabelCommon.getComponent()))),this.labelsContainer&&this.slider.before(this.labelsContainer.getComponent()),this.vertical&&this.component.classList.add("range-slider_vertical"),this.panel){const e=s.createComponent("div","range-slider__panel");e.append(this.panel.getComponent()),a.append(e)}this.scale&&this.slider.after(this.scale.getComponent()),this.component.append(a)}destroy(){this.labelsContainer&&[...this.labelsContainer.getComponent().children].forEach((e=>{e.remove()})),[...this.slider.children].forEach((e=>{e.remove()})),[...this.component.children].forEach((e=>{e.remove()}))}mergeLabels(){var e,t,i,a,s;if(null===(e=this.valueLabelLeft)||void 0===e||e.setOpacity(0),null===(t=this.valueLabelRight)||void 0===t||t.setOpacity(0),null===(i=this.valueLabelCommon)||void 0===i||i.setOpacity(1),!this.vertical&&this.thumbRight){const e=parseInt(this.thumbRight.getLeftIndent(),10)-parseInt(this.thumbLeft.getLeftIndent(),10);this.valueLabelLeft&&(null===(a=this.valueLabelCommon)||void 0===a||a.setIndent("left",`${parseInt(this.valueLabelLeft.getLeftIndent(),10)+e/2}%`))}if(this.vertical&&this.thumbRight){const e=parseInt(this.thumbRight.getTopIndent(),10)-parseInt(this.thumbLeft.getTopIndent(),10);this.valueLabelRight&&(null===(s=this.valueLabelCommon)||void 0===s||s.setIndent("top",parseInt(this.valueLabelRight.getTopIndent(),10)-e/2+"%"))}}splitLabels(){var e,t,i;null===(e=this.valueLabelCommon)||void 0===e||e.setOpacity(0),null===(t=this.valueLabelLeft)||void 0===t||t.setOpacity(1),null===(i=this.valueLabelRight)||void 0===i||i.setOpacity(1)}isTwoLabelsClose(e,t){if(this.vertical)return e.getBoundingClientRect().top-t.getBoundingClientRect().bottom<3;const i=e.getBoundingClientRect().right;return t.getBoundingClientRect().left-i<3}isTwoValueLabelsClose(){return!(!this.valueLabelLeft||!this.valueLabelRight)&&this.isTwoLabelsClose(this.valueLabelLeft,this.valueLabelRight)}isLeftValueLabelCloseToMinLabel(){return!(!this.minLabel||!this.valueLabelLeft)&&this.isTwoLabelsClose(this.minLabel,this.valueLabelLeft)}isLeftValueLabelCloseToMaxLabel(){return!(!this.valueLabelLeft||!this.maxLabel)&&this.isTwoLabelsClose(this.valueLabelLeft,this.maxLabel)}isRightValueLabelCloseToMaxLabel(){return!(!this.valueLabelRight||!this.maxLabel)&&this.isTwoLabelsClose(this.valueLabelRight,this.maxLabel)}whichThumbIsNearer(e,t){var i;const a=this.thumbLeft.getBoundingClientRect(),s=null===(i=this.thumbRight)||void 0===i?void 0:i.getBoundingClientRect(),n=this.track.getBoundingClientRect();let l=0,h=0;if(!this.vertical&&s){const t=a.left+a.width/2-n.left,i=s.left+s.width/2-n.left;l=Math.abs(e-t),h=Math.abs(e-i)}if(this.vertical&&s){const e=a.top+a.height/2-n.top,i=s.top+s.height/2-n.top;l=Math.abs(t-e),h=Math.abs(t-i)}return l<=h?"left":"right"}addSmoothTransition(e="left"){var t,i,a;"left"===e&&(this.thumbLeft.getComponent().classList.add("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.add("range-slider__range_smooth-transition"),null===(t=this.valueLabelLeft)||void 0===t||t.getComponent().classList.add("range-slider__value-label_smooth-transition")),"right"===e&&(null===(i=this.thumbRight)||void 0===i||i.getComponent().classList.add("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.add("range-slider__range_smooth-transition"),null===(a=this.valueLabelRight)||void 0===a||a.getComponent().classList.add("range-slider__value-label_smooth-transition"))}removeSmoothTransition(e="left"){var t,i,a;"left"===e&&(this.thumbLeft.getComponent().classList.remove("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.remove("range-slider__range_smooth-transition"),null===(t=this.valueLabelLeft)||void 0===t||t.getComponent().classList.remove("range-slider__value-label_smooth-transition")),"right"===e&&(null===(i=this.thumbRight)||void 0===i||i.getComponent().classList.remove("range-slider__thumb_smooth-transition"),this.range.getComponent().classList.remove("range-slider__range_smooth-transition"),null===(a=this.valueLabelRight)||void 0===a||a.getComponent().classList.remove("range-slider__value-label_smooth-transition"))}collectLabels(){const e=[];return this.minLabel&&this.maxLabel&&(e.push(this.minLabel.getComponent()),e.push(this.maxLabel.getComponent())),this.valueLabelLeft&&e.push(this.valueLabelLeft.getComponent()),this.valueLabelRight&&e.push(this.valueLabelRight.getComponent()),e}};class v{constructor(e,t){this.model=e,this.view=t,this.initViewValues(),this.model.subscribe(this),this.view.subscribe(this)}inform(e,t=null){switch(e){case"viewInputLeft":"number"==typeof t&&this.handleViewInputLeft(t);break;case"viewInputRight":"number"==typeof t&&this.handleViewInputRight(t);break;case"viewSetLeftFromOutside":"number"==typeof t&&this.handleViewSetLeftFromOutside(t);break;case"viewSetRightFromOutside":"number"==typeof t&&this.handleViewSetRightFromOutside(t);break;case"viewSetMin":"number"==typeof t&&this.handleViewSetMin(t);break;case"viewSetMax":"number"==typeof t&&this.handleViewSetMax(t);break;case"viewSetStep":"number"==typeof t&&this.handleViewSetStep(t);break;case"viewToggleOrientation":this.handleViewToggleOrientation();break;case"viewToggleRange":this.handleViewToggleRange();break;case"viewToggleScale":this.handleViewToggleScale();break;case"viewSetScaleIntervals":this.handleViewSetScaleIntervals();break;case"viewAddValueLabels":this.handleViewAddValueLabels();break;case"viewAddMinMaxLabels":this.handleViewAddMinMaxLabels();break;case"modelSetLeft":this.handleModelSetLeft();break;case"modelSetRight":this.handleModelSetRight();break;case"modelSetMin":this.handleModelSetMin();break;case"modelSetMax":this.handleModelSetMax();break;case"modelToggleRange":this.handleModelToggleRange();break;case"modelSetStep":this.handleModelSetStep()}}static removeCalcInaccuracy(e){return Number(e.toFixed(10))}initViewValues(){var e;const{model:t}=this,{view:i}=this,a=t.getMin(),s=t.getMax(),n=t.getLeftValue(),l=t.getRightValue();i.setMinValue(a),i.setMaxValue(s),this.passLeftValueToView(n),i.isRange()&&void 0!==l?(this.passRightValueToView(l),i.updateInput(n,l)):i.updateInput(n),i.hasScale()&&(i.removeScale(),i.addScale(a,s)),this.view.hasLabels()&&(i.isVertical()||i.fixLabelsContainerHeightForHorizontal(),i.isVertical()&&i.fixLabelsContainerWidthForVertical()),i.hasPanel()&&i.setPanelValues({min:a,max:s,step:t.getStep(),from:n,to:null!=l?l:null,vertical:null!==(e=i.isVertical())&&void 0!==e&&e,range:i.isRange(),scale:i.hasScale(),scaleIntervals:i.getScaleIntervals(),valueLabels:i.hasValueLabels(),minMaxLabels:i.hasMinMaxLabels()})}handleViewInputLeft(e){const t=this.convertPxToValue(e);this.model.setLeftValue(t)}handleModelSetLeft(){const e=this.model.getLeftValue();this.passLeftValueToView(e),this.updateViewInput(),this.view.hasPanel()&&this.view.updatePanelFrom(e)}handleViewInputRight(e){const t=this.convertPxToValue(e);this.model.setRightValue(t)}handleModelSetRight(){const e=this.model.getRightValue();this.passRightValueToView(e),this.updateViewInput(),this.view.hasPanel()&&this.view.updatePanelTo(e)}passLeftValueToView(e){const t=this.convertValueToPercent(e);this.view.setLeftValue(e,t)}passRightValueToView(e){const t=this.convertValueToPercent(e);this.view.setRightValue(e,t)}updateViewInput(){this.view.isRange()||this.view.updateInput(this.model.getLeftValue()),this.view.isRange()&&this.view.updateInput(this.model.getLeftValue(),this.model.getRightValue())}convertValueToPercent(e){const t=this.model.getMin();let i=(e-t)/(this.model.getMax()-t)*100;return i=v.removeCalcInaccuracy(i),i}convertPxToValue(e){let t=0;this.view.isVertical()||(t=100*e/this.view.getTrackWidth()),this.view.isVertical()&&(t=100*e/this.view.getTrackHeight());const i=this.model.getMin();let a=t/100*(this.model.getMax()-i)+i;return a=this.fitToStep(a),a=v.removeCalcInaccuracy(a),a}fitToStep(e){let t=Math.round(e/this.model.getStep())*this.model.getStep();return t=v.removeCalcInaccuracy(t),t}handleViewSetLeftFromOutside(e){this.model.setLeftValue(e)}handleViewSetRightFromOutside(e){this.model.setRightValue(e)}handleViewSetMin(e){this.model.setMin(e)}handleModelSetMin(){this.view.setMinValue(this.model.getMin()),this.passLeftValueToView(this.model.getLeftValue());const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e),this.view.hasScale()&&(this.view.removeScale(),this.view.addScale(this.model.getMin(),this.model.getMax())),this.view.hasPanel()&&this.view.updatePanelMin(this.model.getMin())}handleViewSetMax(e){this.model.setMax(e)}handleModelSetMax(){this.view.setMaxValue(this.model.getMax()),this.passLeftValueToView(this.model.getLeftValue());const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e),this.view.hasScale()&&(this.view.removeScale(),this.view.addScale(this.model.getMin(),this.model.getMax())),this.view.hasPanel()&&this.view.updatePanelMax(this.model.getMax())}handleViewSetStep(e){this.model.setStep(e)}handleViewToggleOrientation(){if(this.passLeftValueToView(this.model.getLeftValue()),this.view.isRange()){const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e)}}handleViewToggleRange(){this.model.toggleRange()}handleModelToggleRange(){if(this.passLeftValueToView(this.model.getLeftValue()),this.model.isRange()){this.model.setRightValue();const e=this.model.getRightValue();void 0!==e&&(this.passRightValueToView(e),this.view.updateInput(this.model.getLeftValue(),e),this.view.hasPanel()&&this.view.updatePanelTo(e))}this.model.isRange()||(this.model.removeRightValue(),this.view.updateInput(this.model.getLeftValue()),this.view.hasPanel()&&this.view.updatePanelTo(""))}handleModelSetStep(){this.view.hasPanel()&&this.view.updatePanelStep(this.model.getStep())}handleViewToggleScale(){var e;if(!this.view.hasScale())return this.view.addScale(this.model.getMin(),this.model.getMax()),void(this.view.hasPanel()&&this.view.updatePanelScaleIntervals(null!==(e=this.view.getScaleIntervals())&&void 0!==e?e:4));this.view.hasScale()&&(this.view.removeScale(),this.view.hasPanel()&&this.view.updatePanelScaleIntervals(""))}handleViewSetScaleIntervals(){this.view.addScale(this.model.getMin(),this.model.getMax())}handleViewAddValueLabels(){if(this.passLeftValueToView(this.model.getLeftValue()),this.view.isRange()){const e=this.model.getRightValue();void 0!==e&&this.passRightValueToView(e)}}handleViewAddMinMaxLabels(){this.view.setMinValue(this.model.getMin()),this.view.setMaxValue(this.model.getMax())}}const p=v;class b{constructor(e,t){this.model=new class{constructor(e){this.eventManager=new a,this.min=e.min,this.max=e.max,this.leftValue=e.leftValue,this.step=e.step,e.range?(this.rightValue=e.rightValue,this.range=!0):this.range=!1}subscribe(e){this.eventManager.subscribe(e)}setLeftValue(e){e<this.min?this.leftValue=this.min:(this.isRange()||(this.leftValue=Math.min(e,this.max)),this.isRange()&&void 0!==this.rightValue&&(this.leftValue=Math.min(e,this.rightValue))),this.eventManager.notify("modelSetLeft")}setRightValue(e=this.max){this.isRange()&&(e>this.max?this.rightValue=this.max:this.rightValue=Math.max(e,this.leftValue),this.eventManager.notify("modelSetRight"))}removeRightValue(){this.rightValue=void 0}setMin(e){e>this.leftValue||(this.min=e,this.eventManager.notify("modelSetMin"))}setMax(e){!this.isRange()&&e<this.leftValue||this.isRange()&&void 0!==this.rightValue&&e<this.rightValue||(this.max=e,this.eventManager.notify("modelSetMax"))}setStep(e){e<=0||e>Math.abs(this.max-this.min)||(this.step=e,this.eventManager.notify("modelSetStep"))}toggleRange(){this.range=!this.range,this.eventManager.notify("modelToggleRange")}getMin(){return this.min}getMax(){return this.max}getLeftValue(){return this.leftValue}getRightValue(){return this.rightValue}getStep(){return this.step}isRange(){return this.range}}({min:t.min,max:t.max,leftValue:t.leftValue,rightValue:t.rightValue,range:t.range,step:t.step}),this.view=new c(e,{minMaxLabels:t.minMaxLabels,valueLabels:t.valueLabels,vertical:t.vertical,range:t.range,scale:t.scale,scaleIntervals:t.scaleIntervals,panel:t.panel}),this.presenter=new p(this.model,this.view),this.model.subscribe(this)}inform(e){switch(e){case"modelLeftSet":case"modelRightSet":this.onChange&&this.onChange(this.model.getLeftValue(),this.model.getRightValue())}}setLeftValue(e){return this.presenter.inform("viewSetLeftFromOutside",e),this}setRightValue(e){return this.presenter.inform("viewSetRightFromOutside",e),this}setStep(e){return this.presenter.inform("viewSetStep",e),this}}!function(e){const t=e,i={min:0,max:100,range:!0,leftValue:25,rightValue:75,step:1,minMaxLabels:!0,valueLabels:!0,vertical:!1,scale:!1,scaleIntervals:5,panel:!1};t.fn.rangeSlider=function(e={}){return this.each((function(){const a={min:t(this).data("min"),max:t(this).data("max"),range:t(this).data("range"),leftValue:t(this).data("leftValue"),rightValue:t(this).data("rightValue"),step:t(this).data("step"),minMaxLabels:t(this).data("minMaxLabels"),valueLabels:t(this).data("valueLabels"),vertical:t(this).data("vertical"),scale:t(this).data("scale"),scaleIntervals:t(this).data("scaleIntervals"),panel:t(this).data("panel")};let s=t.extend({},i,e,a);s=function(e){let a=t.extend({},e);return function(){function t(t){typeof e[t]!=typeof i[t]&&delete a[t]}t("min"),t("max"),t("leftValue"),t("rightValue"),t("range"),t("step"),t("minMaxLabels"),t("valueLabels"),t("vertical"),t("scale"),t("scaleIntervals"),t("panel")}(),a=t.extend({},i,a),a.min>a.max&&([a.min,a.max]=[a.max,a.min]),a.leftValue<a.min&&(a.leftValue=a.min),a.rightValue>a.max&&(a.rightValue=a.max),a.leftValue>a.max&&(a.leftValue=a.max),a.leftValue>a.rightValue&&([a.leftValue,a.rightValue]=[a.rightValue,a.leftValue]),a.step>Math.abs(a.max-a.min)&&(a.step=Math.abs(a.max-a.min)),a.scaleIntervals<1&&(a.scaleIntervals=1),Number.isInteger(a.scaleIntervals)&&(a.scaleIntervals=Math.floor(a.scaleIntervals)),a}(s),this instanceof HTMLDivElement&&t(this).data("rangeSlider",new b(this,s))}))}}(i(65638))},96553:()=>{}},e=>{e.O(0,[216],(()=>(95567,e(e.s=95567)))),e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWlCNUIsS0FBSytFLE1BQU15SSxFQUFjNUwsaUJBUXJENEwsRUFJRUksQ0FBU04sR0FFaEI3VCxnQkFBZ0JvVSxnQkFDbEJiLEVBQUV2VCxNQUFNTyxLQUFLLGNBQWUsSUFBSTRTLEVBQU9uVCxLQUFNNlQsUUFoSHJELEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9FdmVudE1hbmFnZXIvRXZlbnRNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL01vZGVsL01vZGVsLnRzIiwid2VicGFjazovLy8uL1ZpZXcvQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9zdWJ2aWV3cy9UcmFjay9UcmFjay50cyIsIndlYnBhY2s6Ly8vLi9WaWV3L3N1YnZpZXdzL1JhbmdlL1JhbmdlLnRzIiwid2VicGFjazovLy8uL1ZpZXcvc3Vidmlld3MvVGh1bWIvVGh1bWIudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9zdWJ2aWV3cy9TY2FsZS9TY2FsZS50cyIsIndlYnBhY2s6Ly8vLi9WaWV3L3N1YnZpZXdzL0xhYmVsc0NvbnRhaW5lci9MYWJlbHNDb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9zdWJ2aWV3cy9MYWJlbC9MYWJlbC50cyIsIndlYnBhY2s6Ly8vLi9WaWV3L3N1YnZpZXdzL0lucHV0L0lucHV0LnRzIiwid2VicGFjazovLy8uL1ZpZXcvc3Vidmlld3MvUGFuZWwvUGFuZWwudHMiLCJ3ZWJwYWNrOi8vLy4vVmlldy9WaWV3LnRzIiwid2VicGFjazovLy8uL1ByZXNlbnRlci9QcmVzZW50ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vU2xpZGVyL1NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9XcmFwcGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEV2ZW50TWFuYWdlciB7XG4gIHByaXZhdGUgbGlzdGVuZXJzOiBJRXZlbnRMaXN0ZW5lcltdID0gW107XG5cbiAgc3Vic2NyaWJlKGxpc3RlbmVyOiBJRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICB9XG5cbiAgdW5zdWJzY3JpYmUobGlzdGVuZXI6IElFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gIT09IGxpc3RlbmVyKTtcbiAgfVxuXG4gIG5vdGlmeShldmVudFR5cGU6IHN0cmluZywgZGF0YTogbnVtYmVyIHwgbnVsbCA9IG51bGwpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5saXN0ZW5lcnMubGVuZ3RoID09PSAwKSB7IHJldHVybjsgfVxuICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0uaW5mb3JtKGV2ZW50VHlwZSwgZGF0YSkpO1xuICB9XG59XG5cbmludGVyZmFjZSBJRXZlbnRMaXN0ZW5lciB7XG4gIGluZm9ybShldmVudFR5cGU6IHN0cmluZywgZGF0YTogbnVtYmVyIHwgbnVsbCk6IHZvaWQ7XG59XG5cbmV4cG9ydCB7IEV2ZW50TWFuYWdlciwgSUV2ZW50TGlzdGVuZXIgfTtcbiIsImltcG9ydCB7IEV2ZW50TWFuYWdlciwgSUV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi9FdmVudE1hbmFnZXIvRXZlbnRNYW5hZ2VyJztcblxudHlwZSBNb2RlbE9wdGlvbnMgPSB7XG4gIG1pbjogbnVtYmVyO1xuICBtYXg6IG51bWJlcjtcbiAgbGVmdFZhbHVlOiBudW1iZXI7XG4gIHJpZ2h0VmFsdWU/OiBudW1iZXI7XG4gIHN0ZXA6IG51bWJlcjtcbiAgcmFuZ2U/OiBib29sZWFuO1xufTtcblxuY2xhc3MgTW9kZWwge1xuICBwcml2YXRlIGV2ZW50TWFuYWdlcjogRXZlbnRNYW5hZ2VyO1xuXG4gIHByaXZhdGUgbWluOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBtYXg6IG51bWJlcjtcblxuICBwcml2YXRlIGxlZnRWYWx1ZTogbnVtYmVyO1xuXG4gIHByaXZhdGUgcmlnaHRWYWx1ZT86IG51bWJlcjtcblxuICBwcml2YXRlIHN0ZXA6IG51bWJlcjtcblxuICBwcml2YXRlIHJhbmdlOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE1vZGVsT3B0aW9ucykge1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyID0gbmV3IEV2ZW50TWFuYWdlcigpO1xuXG4gICAgdGhpcy5taW4gPSBvcHRpb25zLm1pbjtcbiAgICB0aGlzLm1heCA9IG9wdGlvbnMubWF4O1xuICAgIHRoaXMubGVmdFZhbHVlID0gb3B0aW9ucy5sZWZ0VmFsdWU7XG4gICAgdGhpcy5zdGVwID0gb3B0aW9ucy5zdGVwO1xuXG4gICAgaWYgKG9wdGlvbnMucmFuZ2UpIHtcbiAgICAgIHRoaXMucmlnaHRWYWx1ZSA9IG9wdGlvbnMucmlnaHRWYWx1ZTtcbiAgICAgIHRoaXMucmFuZ2UgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJhbmdlID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3Vic2NyaWJlKGxpc3RlbmVyOiBJRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLnN1YnNjcmliZShsaXN0ZW5lcik7XG4gIH1cblxuICBzZXRMZWZ0VmFsdWUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh2YWx1ZSA8IHRoaXMubWluKSB7XG4gICAgICB0aGlzLmxlZnRWYWx1ZSA9IHRoaXMubWluO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIHRoaXMubGVmdFZhbHVlID0gTWF0aC5taW4odmFsdWUsIHRoaXMubWF4KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpICYmIHRoaXMucmlnaHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMubGVmdFZhbHVlID0gTWF0aC5taW4odmFsdWUsIHRoaXMucmlnaHRWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KCdtb2RlbFNldExlZnQnKTtcbiAgfVxuXG4gIHNldFJpZ2h0VmFsdWUodmFsdWU6IG51bWJlciA9IHRoaXMubWF4KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzUmFuZ2UoKSkgcmV0dXJuO1xuXG4gICAgaWYgKHZhbHVlID4gdGhpcy5tYXgpIHtcbiAgICAgIHRoaXMucmlnaHRWYWx1ZSA9IHRoaXMubWF4O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJpZ2h0VmFsdWUgPSBNYXRoLm1heCh2YWx1ZSwgdGhpcy5sZWZ0VmFsdWUpO1xuICAgIH1cblxuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgnbW9kZWxTZXRSaWdodCcpO1xuICB9XG5cbiAgcmVtb3ZlUmlnaHRWYWx1ZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJpZ2h0VmFsdWUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBzZXRNaW4odmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh2YWx1ZSA+IHRoaXMubGVmdFZhbHVlKSByZXR1cm47XG4gICAgdGhpcy5taW4gPSB2YWx1ZTtcblxuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgnbW9kZWxTZXRNaW4nKTtcbiAgfVxuXG4gIHNldE1heCh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgaWYgKHZhbHVlIDwgdGhpcy5sZWZ0VmFsdWUpIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1JhbmdlKCkgJiYgdGhpcy5yaWdodFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh2YWx1ZSA8IHRoaXMucmlnaHRWYWx1ZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMubWF4ID0gdmFsdWU7XG5cbiAgICB0aGlzLmV2ZW50TWFuYWdlci5ub3RpZnkoJ21vZGVsU2V0TWF4Jyk7XG4gIH1cblxuICBzZXRTdGVwKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodmFsdWUgPD0gMCkgcmV0dXJuO1xuICAgIGlmICh2YWx1ZSA+IE1hdGguYWJzKHRoaXMubWF4IC0gdGhpcy5taW4pKSByZXR1cm47XG5cbiAgICB0aGlzLnN0ZXAgPSB2YWx1ZTtcblxuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgnbW9kZWxTZXRTdGVwJyk7XG4gIH1cblxuICB0b2dnbGVSYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJhbmdlID0gIXRoaXMucmFuZ2U7XG5cbiAgICB0aGlzLmV2ZW50TWFuYWdlci5ub3RpZnkoJ21vZGVsVG9nZ2xlUmFuZ2UnKTtcbiAgfVxuXG4gIGdldE1pbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm1pbjtcbiAgfVxuXG4gIGdldE1heCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm1heDtcbiAgfVxuXG4gIGdldExlZnRWYWx1ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmxlZnRWYWx1ZTtcbiAgfVxuXG4gIGdldFJpZ2h0VmFsdWUoKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5yaWdodFZhbHVlO1xuICB9XG5cbiAgZ2V0U3RlcCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnN0ZXA7XG4gIH1cblxuICBpc1JhbmdlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJhbmdlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGVsO1xuIiwiY2xhc3MgQmFzZUVsZW1lbnQ8VCBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcD4ge1xuICBwcm90ZWN0ZWQgY29tcG9uZW50OiBIVE1MRWxlbWVudFRhZ05hbWVNYXBbVF07XG5cbiAgY29uc3RydWN0b3IodGFnOiBULCBjbGFzc05hbWU/OiBzdHJpbmcpIHtcbiAgICB0aGlzLmNvbXBvbmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcblxuICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgc3RhdGljIGNyZWF0ZUNvbXBvbmVudDxLIGV4dGVuZHMga2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwPihcbiAgICB0YWc6IEssIGNsYXNzTmFtZT86IHN0cmluZyxcbiAgKTogSFRNTEVsZW1lbnRUYWdOYW1lTWFwW0tdIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuXG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICBnZXRDb21wb25lbnQoKTogSFRNTEVsZW1lbnRUYWdOYW1lTWFwW1RdIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQ7XG4gIH1cblxuICBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKTogRE9NUmVjdCB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB9XG5cbiAgZ2V0V2lkdGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub2Zmc2V0V2lkdGg7XG4gIH1cblxuICBnZXRIZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub2Zmc2V0SGVpZ2h0O1xuICB9XG5cbiAgc2V0SW5kZW50KHNpZGU6ICd0b3AnIHwgJ3JpZ2h0JyB8ICdib3R0b20nIHwgJ2xlZnQnLCBpbmRlbnQ6IG51bWJlciB8IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgaW5kZW50ID09PSAnbnVtYmVyJykge1xuICAgICAgdGhpcy5jb21wb25lbnQuc3R5bGVbc2lkZV0gPSBgJHtpbmRlbnR9JWA7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbmRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC5zdHlsZVtzaWRlXSA9IGluZGVudDtcbiAgICB9XG4gIH1cblxuICByZW1vdmUoKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQucmVtb3ZlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFzZUVsZW1lbnQ7XG4iLCJpbXBvcnQgQmFzZUVsZW1lbnQgZnJvbSAnLi4vLi4vQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQnO1xuXG50eXBlIFZpZXdGb3JUcmFjayA9IHtcbiAgaGFuZGxlU2NhbGVPclRyYWNrQ2xpY2soeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkLFxufTtcblxuY2xhc3MgVHJhY2sgZXh0ZW5kcyBCYXNlRWxlbWVudDwnZGl2Jz4ge1xuICBwcml2YXRlIHZpZXc6IFZpZXdGb3JUcmFjaztcblxuICBjb25zdHJ1Y3Rvcih2aWV3OiBWaWV3Rm9yVHJhY2spIHtcbiAgICBzdXBlcignZGl2JywgJ3JhbmdlLXNsaWRlcl9fdHJhY2snKTtcblxuICAgIHRoaXMudmlldyA9IHZpZXc7XG5cbiAgICB0aGlzLmF0dGFjaEV2ZW50SGFuZGxlcnMoKTtcbiAgfVxuXG4gIGFwcGVuZCguLi5lbGVtZW50czogSFRNTEVsZW1lbnRbXSk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZCguLi5lbGVtZW50cyk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgY29uc3QgeDogbnVtYmVyID0gZXZlbnQuY2xpZW50WCAtIGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgIGNvbnN0IHk6IG51bWJlciA9IGV2ZW50LmNsaWVudFkgLSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcblxuICAgICAgdGhpcy52aWV3LmhhbmRsZVNjYWxlT3JUcmFja0NsaWNrKHgsIHkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXR0YWNoRXZlbnRIYW5kbGVycygpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJhY2s7XG4iLCJpbXBvcnQgQmFzZUVsZW1lbnQgZnJvbSAnLi4vLi4vQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQnO1xuXG5jbGFzcyBSYW5nZSBleHRlbmRzIEJhc2VFbGVtZW50PCdkaXYnPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdkaXYnLCAncmFuZ2Utc2xpZGVyX19yYW5nZScpO1xuICB9XG5cbiAgc2V0V2lkdGgocGVyY2VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUud2lkdGggPSBgJHtwZXJjZW50fSVgO1xuICB9XG5cbiAgc2V0SGVpZ2h0KHBlcmNlbnQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLmhlaWdodCA9IGAke3BlcmNlbnR9JWA7XG4gIH1cblxuICByZXNldFdpZHRoKCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLndpZHRoID0gJ3Vuc2V0JztcbiAgfVxuXG4gIHJlc2V0SGVpZ2h0KCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLmhlaWdodCA9ICd1bnNldCc7XG4gIH1cblxuICByZXNldFRvcEluZGVudCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS50b3AgPSAndW5zZXQnO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlO1xuIiwiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uLy4uL0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcblxudHlwZSBWaWV3Rm9yVGh1bWIgPSB7XG4gIGhhbmRsZUxlZnRJbnB1dChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlciwgc2hpZnRYOiBudW1iZXIsIHNoaWZ0WTogbnVtYmVyKTogdm9pZCxcbiAgaGFuZGxlUmlnaHRJbnB1dChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlciwgc2hpZnRYOiBudW1iZXIsIHNoaWZ0WTogbnVtYmVyKTogdm9pZCxcbn07XG5cbmNsYXNzIFRodW1iIGV4dGVuZHMgQmFzZUVsZW1lbnQ8J2Rpdic+IHtcbiAgcHJpdmF0ZSB0eXBlOiAnbGVmdCcgfCAncmlnaHQnO1xuXG4gIHByaXZhdGUgdmlldzogVmlld0ZvclRodW1iO1xuXG4gIGNvbnN0cnVjdG9yKHZpZXc6IFZpZXdGb3JUaHVtYiwgdHlwZTogJ2xlZnQnIHwgJ3JpZ2h0JyA9ICdsZWZ0Jykge1xuICAgIHN1cGVyKCdkaXYnLCBgcmFuZ2Utc2xpZGVyX190aHVtYiByYW5nZS1zbGlkZXJfX3RodW1iXyR7dHlwZX1gKTtcblxuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy52aWV3ID0gdmlldztcblxuICAgIHRoaXMuYXR0YWNoRXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgZ2V0TGVmdEluZGVudCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5zdHlsZS5sZWZ0O1xuICB9XG5cbiAgZ2V0VG9wSW5kZW50KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LnN0eWxlLnRvcDtcbiAgfVxuXG4gIHNldFpJbmRleCh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUuekluZGV4ID0gYCR7dmFsdWV9YDtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGhhbmRsZVBvaW50ZXJPdmVyKGV2ZW50OiBQb2ludGVyRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3JhbmdlLXNsaWRlcl9fdGh1bWJfaG92ZXInKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBoYW5kbGVQb2ludGVyT3V0KGV2ZW50OiBQb2ludGVyRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3JhbmdlLXNsaWRlcl9fdGh1bWJfaG92ZXInKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBoYW5kbGVQb2ludGVyVXAoZXZlbnQ6IFBvaW50ZXJFdmVudCk6IHZvaWQge1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgncmFuZ2Utc2xpZGVyX190aHVtYl9hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBoYW5kbGVEcmFnU3RhcnQoKTogZmFsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlUG9pbnRlckRvd24oZXZlbnQ6IFBvaW50ZXJFdmVudCk6IHZvaWQge1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZCgncmFuZ2Utc2xpZGVyX190aHVtYl9hY3RpdmUnKTtcblxuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuXG4gICAgICAvLyBwcmV2ZW50IHNlbGVjdGlvbiAoYnJvd3NlciBhY3Rpb24pXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBjb25zdCBzaGlmdFg6IG51bWJlciA9IGV2ZW50LmNsaWVudFggLSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICBjb25zdCBzaGlmdFk6IG51bWJlciA9IGV2ZW50LmNsaWVudFkgLSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcblxuICAgICAgY29uc3QgaGFuZGxlUG9pbnRlck1vdmUgPSAobmV3RXZlbnQ6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgICBpZiAodGhpcy50eXBlID09PSAnbGVmdCcpIHtcbiAgICAgICAgICB0aGlzLnZpZXcuaGFuZGxlTGVmdElucHV0KG5ld0V2ZW50LmNsaWVudFgsIG5ld0V2ZW50LmNsaWVudFksIHNoaWZ0WCwgc2hpZnRZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICB0aGlzLnZpZXcuaGFuZGxlUmlnaHRJbnB1dChuZXdFdmVudC5jbGllbnRYLCBuZXdFdmVudC5jbGllbnRZLCBzaGlmdFgsIHNoaWZ0WSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGhhbmRsZVBvaW50ZXJVcCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBoYW5kbGVQb2ludGVyTW92ZSk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGhhbmRsZVBvaW50ZXJVcCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGhhbmRsZVBvaW50ZXJNb3ZlKTtcbiAgICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGhhbmRsZVBvaW50ZXJVcCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhdHRhY2hFdmVudEhhbmRsZXJzKCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgVGh1bWIuaGFuZGxlUG9pbnRlck92ZXIpO1xuICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdXQnLCBUaHVtYi5oYW5kbGVQb2ludGVyT3V0KTtcbiAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMuaGFuZGxlUG9pbnRlckRvd24uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgVGh1bWIuaGFuZGxlUG9pbnRlclVwKTtcbiAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBUaHVtYi5oYW5kbGVEcmFnU3RhcnQpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRodW1iO1xuIiwiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uLy4uL0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcblxudHlwZSBWaWV3Rm9yU2NhbGUgPSB7XG4gIGdldFNjYWxlSW50ZXJ2YWxzKCk6IG51bWJlcixcbiAgaGFuZGxlU2NhbGVPclRyYWNrQ2xpY2soeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkLFxufTtcblxuY2xhc3MgU2NhbGUgZXh0ZW5kcyBCYXNlRWxlbWVudDwnZGl2Jz4ge1xuICBwcml2YXRlIHZpZXc6IFZpZXdGb3JTY2FsZTtcblxuICBwcml2YXRlIGludGVydmFsczogSFRNTERpdkVsZW1lbnRbXTtcblxuICBwcml2YXRlIHZhbHVlczogbnVtYmVyW107XG5cbiAgcHJpdmF0ZSB2YWx1ZUVsZW1lbnRzOiBIVE1MU3BhbkVsZW1lbnRbXTtcblxuICBjb25zdHJ1Y3RvcihtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIHZpZXc6IFZpZXdGb3JTY2FsZSkge1xuICAgIHN1cGVyKCdkaXYnLCAncmFuZ2Utc2xpZGVyX19zY2FsZScpO1xuXG4gICAgdGhpcy52aWV3ID0gdmlldztcbiAgICB0aGlzLmludGVydmFscyA9IFtdO1xuICAgIHRoaXMudmFsdWVzID0gW107XG4gICAgdGhpcy52YWx1ZUVsZW1lbnRzID0gW107XG5cbiAgICBjb25zdCBpbnRlcnZhbHNOdW1iZXIgPSB2aWV3LmdldFNjYWxlSW50ZXJ2YWxzKCk7XG5cbiAgICB0aGlzLmNyZWF0ZUludGVydmFscyhpbnRlcnZhbHNOdW1iZXIpO1xuICAgIHRoaXMuYWRkTWFya3NJbkludGVydmFscyhpbnRlcnZhbHNOdW1iZXIpO1xuICAgIHRoaXMuYWRkVmFsdWVzKG1pbiwgbWF4LCBpbnRlcnZhbHNOdW1iZXIpO1xuICAgIHRoaXMuYXR0YWNoRXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgZml0V2lkdGhGb3JWZXJ0aWNhbChpbmRlbnQ6IG51bWJlciA9IDMpOiB2b2lkIHtcbiAgICBsZXQgbWF4V2lkdGggPSAwO1xuXG4gICAgdGhpcy52YWx1ZUVsZW1lbnRzLmZvckVhY2goKHZhbHVlRWxlbWVudCkgPT4ge1xuICAgICAgaWYgKHZhbHVlRWxlbWVudC5vZmZzZXRXaWR0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgIG1heFdpZHRoID0gdmFsdWVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gYCR7bWF4V2lkdGggKyBpbmRlbnR9cHhgO1xuICB9XG5cbiAgZml0SGVpZ2h0Rm9ySG9yaXpvbnRhbChpbmRlbnQ6IG51bWJlciA9IDMpOiB2b2lkIHtcbiAgICBsZXQgbWF4SGVpZ2h0ID0gMDtcblxuICAgIHRoaXMudmFsdWVFbGVtZW50cy5mb3JFYWNoKCh2YWx1ZUVsZW1lbnQpID0+IHtcbiAgICAgIGlmICh2YWx1ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0ID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIG1heEhlaWdodCA9IHZhbHVlRWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5wYWRkaW5nQm90dG9tID0gYCR7bWF4SGVpZ2h0ICsgaW5kZW50fXB4YDtcbiAgfVxuXG4gIGhhbmRsZVN3aXRjaEZyb21Ib3Jpem9udGFsVG9WZXJ0aWNhbCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5wYWRkaW5nQm90dG9tID0gJ3Vuc2V0JztcbiAgICB0aGlzLmZpdFdpZHRoRm9yVmVydGljYWwoKTtcbiAgfVxuXG4gIGhhbmRsZVN3aXRjaEZyb21WZXJ0aWNhbFRvSG9yaXpvbnRhbCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSAndW5zZXQnO1xuICAgIHRoaXMuZml0SGVpZ2h0Rm9ySG9yaXpvbnRhbCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVJbnRlcnZhbHMoaW50ZXJ2YWxzTnVtYmVyOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBmcmFnbWVudCA9IG5ldyBEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludGVydmFsc051bWJlcjsgaSArPSAxKSB7XG4gICAgICB0aGlzLmludGVydmFsc1tpXSA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnZGl2JywgJ3JhbmdlLXNsaWRlcl9fc2NhbGUtaW50ZXJ2YWwnKTtcbiAgICAgIGZyYWdtZW50LmFwcGVuZCh0aGlzLmludGVydmFsc1tpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5jb21wb25lbnQuYXBwZW5kKGZyYWdtZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkTWFya3NJbkludGVydmFscyhpbnRlcnZhbHNOdW1iZXI6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuaW50ZXJ2YWxzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGZyYWdtZW50ID0gbmV3IERvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgICAgaWYgKGludGVydmFsc051bWJlciA8IDI5KSB7XG4gICAgICAgIGZyYWdtZW50LmFwcGVuZChCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ3NwYW4nLCAncmFuZ2Utc2xpZGVyX19zY2FsZS1tYXJrJykpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW50ZXJ2YWxzTnVtYmVyIDwgMTUpIHtcbiAgICAgICAgZnJhZ21lbnQuYXBwZW5kKEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnc3BhbicsICdyYW5nZS1zbGlkZXJfX3NjYWxlLW1hcmsnKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbnRlcnZhbHNOdW1iZXIgPCA4KSB7XG4gICAgICAgIGZyYWdtZW50LmFwcGVuZChCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ3NwYW4nLCAncmFuZ2Utc2xpZGVyX19zY2FsZS1tYXJrJykpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW50ZXJ2YWxzTnVtYmVyIDwgNSkge1xuICAgICAgICBmcmFnbWVudC5hcHBlbmQoQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdzcGFuJywgJ3JhbmdlLXNsaWRlcl9fc2NhbGUtbWFyaycpKTtcbiAgICAgIH1cblxuICAgICAgaXRlbS5hcHBlbmQoZnJhZ21lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRWYWx1ZXMobWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBpbnRlcnZhbHNOdW1iZXI6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudmFsdWVzWzBdID0gbWluO1xuICAgIGNvbnN0IHN0ZXAgPSAobWF4IC0gbWluKSAvIGludGVydmFsc051bWJlcjtcbiAgICBsZXQgbnVtYmVyT2ZEaWdpdHNBZnRlclBvaW50ID0gMDtcblxuICAgIGlmIChNYXRoLnJvdW5kKGludGVydmFsc051bWJlciAvIChtYXggLSBtaW4pKSAhPT0gMCkge1xuICAgICAgbnVtYmVyT2ZEaWdpdHNBZnRlclBvaW50ID0gKE1hdGgucm91bmQoaW50ZXJ2YWxzTnVtYmVyIC8gKG1heCAtIG1pbikpKS50b1N0cmluZygpLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGludGVydmFsc051bWJlcjsgaSArPSAxKSB7XG4gICAgICB0aGlzLnZhbHVlc1tpXSA9IE51bWJlcigoKGkgKiBzdGVwKSArIG1pbikudG9GaXhlZChudW1iZXJPZkRpZ2l0c0FmdGVyUG9pbnQpKTtcbiAgICB9XG5cbiAgICB0aGlzLnZhbHVlcy5wdXNoKG1heCk7XG5cbiAgICBjb25zdCB2YWx1ZUVsZW1lbnQgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ3NwYW4nLCAncmFuZ2Utc2xpZGVyX19zY2FsZS1pbnRlcnZhbC12YWx1ZSByYW5nZS1zbGlkZXJfX3NjYWxlLWludGVydmFsLXZhbHVlX21pbicpO1xuICAgIHZhbHVlRWxlbWVudC50ZXh0Q29udGVudCA9IGAke3RoaXMudmFsdWVzWzBdfWA7XG4gICAgdGhpcy5pbnRlcnZhbHNbMF0uYXBwZW5kKHZhbHVlRWxlbWVudCk7XG4gICAgdGhpcy52YWx1ZUVsZW1lbnRzLnB1c2godmFsdWVFbGVtZW50KTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy52YWx1ZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlRWxlbWVudCA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnc3BhbicsICdyYW5nZS1zbGlkZXJfX3NjYWxlLWludGVydmFsLXZhbHVlJyk7XG4gICAgICBuZXdWYWx1ZUVsZW1lbnQudGV4dENvbnRlbnQgPSBgJHt0aGlzLnZhbHVlc1tpXX1gO1xuICAgICAgdGhpcy5pbnRlcnZhbHNbaSAtIDFdLmFwcGVuZChuZXdWYWx1ZUVsZW1lbnQpO1xuICAgICAgdGhpcy52YWx1ZUVsZW1lbnRzLnB1c2gobmV3VmFsdWVFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgY29uc3QgeDogbnVtYmVyID0gZXZlbnQuY2xpZW50WCAtIGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgIGNvbnN0IHk6IG51bWJlciA9IGV2ZW50LmNsaWVudFkgLSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcblxuICAgICAgdGhpcy52aWV3LmhhbmRsZVNjYWxlT3JUcmFja0NsaWNrKHgsIHkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXR0YWNoRXZlbnRIYW5kbGVycygpOiB2b2lkIHtcbiAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2NhbGU7XG4iLCJpbXBvcnQgQmFzZUVsZW1lbnQgZnJvbSAnLi4vLi4vQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQnO1xuXG5jbGFzcyBMYWJlbHNDb250YWluZXIgZXh0ZW5kcyBCYXNlRWxlbWVudDwnZGl2Jz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZGl2JywgJ3JhbmdlLXNsaWRlcl9fbGFiZWxzLWNvbnRhaW5lcicpO1xuICB9XG5cbiAgYXBwZW5kKC4uLmVsZW1lbnRzOiBIVE1MRWxlbWVudFtdKTogdm9pZCB7XG4gICAgdGhpcy5jb21wb25lbnQuYXBwZW5kKC4uLmVsZW1lbnRzKTtcbiAgfVxuXG4gIGZpeFdpZHRoRm9yVmVydGljYWwobGFiZWxzOiBIVE1MRWxlbWVudFtdLCBpbmRlbnQ6IG51bWJlciA9IDQpOiB2b2lkIHtcbiAgICBsZXQgbWF4V2lkdGggPSAwO1xuXG4gICAgbGFiZWxzLmZvckVhY2goKGxhYmVsKSA9PiB7XG4gICAgICBpZiAobGFiZWwub2Zmc2V0V2lkdGggPiBtYXhXaWR0aCkge1xuICAgICAgICBtYXhXaWR0aCA9IGxhYmVsLm9mZnNldFdpZHRoO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSBgJHttYXhXaWR0aCArIGluZGVudH1weGA7XG4gIH1cblxuICBmaXhIZWlnaHRGb3JIb3Jpem9udGFsKGxhYmVsczogSFRNTEVsZW1lbnRbXSwgaW5kZW50OiBudW1iZXIgPSA0KTogdm9pZCB7XG4gICAgbGV0IG1heEhlaWdodCA9IDA7XG5cbiAgICBsYWJlbHMuZm9yRWFjaCgobGFiZWwpID0+IHtcbiAgICAgIGlmIChsYWJlbC5vZmZzZXRIZWlnaHQgPiBtYXhIZWlnaHQpIHtcbiAgICAgICAgbWF4SGVpZ2h0ID0gbGFiZWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5jb21wb25lbnQuc3R5bGUucGFkZGluZ1RvcCA9IGAke21heEhlaWdodCArIGluZGVudH1weGA7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGFiZWxzQ29udGFpbmVyO1xuIiwiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uLy4uL0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcblxuY2xhc3MgTGFiZWwgZXh0ZW5kcyBCYXNlRWxlbWVudDwnZGl2Jz4ge1xuICBjb25zdHJ1Y3RvcihjbGFzc05hbWU/OiBzdHJpbmcpIHtcbiAgICBzdXBlcignZGl2JywgY2xhc3NOYW1lKTtcbiAgfVxuXG4gIHNldE9wYWNpdHkodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLm9wYWNpdHkgPSBgJHt2YWx1ZX1gO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IG51bWJlciB8IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LnRleHRDb250ZW50ID0gYCR7dmFsdWV9YDtcbiAgfVxuXG4gIGdldFZhbHVlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIE51bWJlcih0aGlzLmNvbXBvbmVudC50ZXh0Q29udGVudCk7XG4gIH1cblxuICBnZXRMZWZ0SW5kZW50KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LnN0eWxlLmxlZnQ7XG4gIH1cblxuICBnZXRUb3BJbmRlbnQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuc3R5bGUudG9wO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExhYmVsO1xuIiwiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uLy4uL0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcblxuY2xhc3MgSW5wdXQgZXh0ZW5kcyBCYXNlRWxlbWVudDwnaW5wdXQnPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdpbnB1dCcsICdyYW5nZS1zbGlkZXJfX2lucHV0Jyk7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVzKCk7XG4gIH1cblxuICBzZXRWYWx1ZSh2YWx1ZTE6IG51bWJlciwgdmFsdWUyOiBudW1iZXIgfCBudWxsID0gbnVsbCk6IHZvaWQge1xuICAgIGlmICh2YWx1ZTIgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LnZhbHVlID0gYCR7dmFsdWUxfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LnZhbHVlID0gYCR7dmFsdWUxfSAtICR7dmFsdWUyfWA7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZXRBdHRyaWJ1dGVzKCk6IHZvaWQge1xuICAgIHRoaXMuY29tcG9uZW50LnR5cGUgPSAndGV4dCc7XG4gICAgdGhpcy5jb21wb25lbnQudGFiSW5kZXggPSAtMTtcbiAgICB0aGlzLmNvbXBvbmVudC5yZWFkT25seSA9IHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5wdXQ7XG4iLCJpbXBvcnQgQmFzZUVsZW1lbnQgZnJvbSAnLi4vLi4vQmFzZUVsZW1lbnQvQmFzZUVsZW1lbnQnO1xuXG50eXBlIFBhbmVsT3B0aW9ucyA9IHtcbiAgbWluOiBudW1iZXIsXG4gIG1heDogbnVtYmVyLFxuICBzdGVwOiBudW1iZXIsXG4gIGZyb206IG51bWJlcixcbiAgdG86IG51bWJlciB8IG51bGwsXG4gIHZlcnRpY2FsOiBib29sZWFuLFxuICByYW5nZTogYm9vbGVhbixcbiAgc2NhbGU6IGJvb2xlYW4sXG4gIHNjYWxlSW50ZXJ2YWxzOiBudW1iZXIsXG4gIHZhbHVlTGFiZWxzOiBib29sZWFuLFxuICBtaW5NYXhMYWJlbHM6IGJvb2xlYW5cbn07XG5cbnR5cGUgVmlld0ZvclBhbmVsID0ge1xuICBpc1JhbmdlKCk6IGJvb2xlYW4sXG4gIHNldE1pbkZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkLFxuICBzZXRNYXhGcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCxcbiAgc2V0U3RlcEZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkLFxuICBzZXRMZWZ0RnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQsXG4gIHNldFJpZ2h0RnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQsXG4gIHRvZ2dsZU9yaWVudGF0aW9uRnJvbU91dHNpZGUoKTogdm9pZCxcbiAgdG9nZ2xlUmFuZ2VGcm9tT3V0c2lkZSgpOiB2b2lkLFxuICB0b2dnbGVTY2FsZUZyb21PdXRzaWRlKCk6IHZvaWQsXG4gIHNldFNjYWxlSW50ZXJ2YWxzKHZhbHVlOiBudW1iZXIpOiB2b2lkLFxuICB0b2dnbGVWYWx1ZUxhYmVscygpOiB2b2lkLFxuICB0b2dnbGVNaW5NYXhMYWJlbHMoKTogdm9pZCxcbn07XG5cbmNsYXNzIFBhbmVsIGV4dGVuZHMgQmFzZUVsZW1lbnQ8J2Zvcm0nPiB7XG4gIHByaXZhdGUgdmlldzogVmlld0ZvclBhbmVsO1xuXG4gIHByaXZhdGUgbWluOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgbWF4OiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgc3RlcDogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIGZyb206IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSB0bzogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIHZlcnRpY2FsOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgcmFuZ2U6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBzY2FsZTogSFRNTElucHV0RWxlbWVudDtcblxuICBwcml2YXRlIHNjYWxlSW50ZXJ2YWxzOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHByaXZhdGUgdmFsdWVMYWJlbHM6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBtaW5NYXhMYWJlbHM6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IodmlldzogVmlld0ZvclBhbmVsKSB7XG4gICAgc3VwZXIoJ2Zvcm0nLCAncGFuZWwnKTtcblxuICAgIHRoaXMudmlldyA9IHZpZXc7XG5cbiAgICB0aGlzLm1pbiA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX21pbiBwYW5lbF9faW5wdXQnKTtcbiAgICB0aGlzLm1heCA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX21heCBwYW5lbF9faW5wdXQnKTtcbiAgICB0aGlzLnN0ZXAgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX19zdGVwIHBhbmVsX19pbnB1dCcpO1xuICAgIHRoaXMuZnJvbSA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX2Zyb20gcGFuZWxfX2lucHV0Jyk7XG4gICAgdGhpcy50byA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX3RvIHBhbmVsX19pbnB1dCcpO1xuXG4gICAgdGhpcy52ZXJ0aWNhbCA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX3ZlcnRpY2FsIHBhbmVsX19jaGVja2JveCcpO1xuICAgIHRoaXMucmFuZ2UgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2lucHV0JywgJ3BhbmVsX19yYW5nZSBwYW5lbF9fY2hlY2tib3gnKTtcbiAgICB0aGlzLnNjYWxlID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fc2NhbGUgcGFuZWxfX2NoZWNrYm94Jyk7XG4gICAgdGhpcy5zY2FsZUludGVydmFscyA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnaW5wdXQnLCAncGFuZWxfX3NjYWxlLWludGVydmFscyBwYW5lbF9faW5wdXQnKTtcbiAgICB0aGlzLnZhbHVlTGFiZWxzID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fdmFsdWUtbGFiZWxzIHBhbmVsX19jaGVja2JveCcpO1xuICAgIHRoaXMubWluTWF4TGFiZWxzID0gQmFzZUVsZW1lbnQuY3JlYXRlQ29tcG9uZW50KCdpbnB1dCcsICdwYW5lbF9fbWluLW1heC1sYWJlbHMgcGFuZWxfX2NoZWNrYm94Jyk7XG5cbiAgICB0aGlzLnJlbmRlcigpO1xuICAgIHRoaXMuYXR0YWNoRXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgc2V0VmFsdWVzKG9wdGlvbnM6IFBhbmVsT3B0aW9ucyk6IHZvaWQge1xuICAgIHRoaXMubWluLnZhbHVlID0gYCR7b3B0aW9ucy5taW59YDtcbiAgICB0aGlzLm1heC52YWx1ZSA9IGAke29wdGlvbnMubWF4fWA7XG4gICAgdGhpcy5zdGVwLnZhbHVlID0gYCR7b3B0aW9ucy5zdGVwfWA7XG4gICAgdGhpcy5mcm9tLnZhbHVlID0gYCR7b3B0aW9ucy5mcm9tfWA7XG4gICAgdGhpcy50by52YWx1ZSA9IG9wdGlvbnMudG8gIT09IG51bGwgPyBgJHtvcHRpb25zLnRvfWAgOiAnJztcbiAgICB0aGlzLnZlcnRpY2FsLmNoZWNrZWQgPSBvcHRpb25zLnZlcnRpY2FsO1xuICAgIHRoaXMucmFuZ2UuY2hlY2tlZCA9IG9wdGlvbnMucmFuZ2U7XG4gICAgdGhpcy5zY2FsZS5jaGVja2VkID0gb3B0aW9ucy5zY2FsZTtcbiAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzLnZhbHVlID0gYCR7b3B0aW9ucy5zY2FsZUludGVydmFsc31gO1xuICAgIHRoaXMudmFsdWVMYWJlbHMuY2hlY2tlZCA9IG9wdGlvbnMudmFsdWVMYWJlbHM7XG4gICAgdGhpcy5taW5NYXhMYWJlbHMuY2hlY2tlZCA9IG9wdGlvbnMubWluTWF4TGFiZWxzO1xuXG4gICAgdGhpcy5zZXRDaGVja01hcmtzKCk7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVzKG9wdGlvbnMpO1xuICB9XG5cbiAgdXBkYXRlRnJvbSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5mcm9tLnZhbHVlID0gYCR7dmFsdWV9YDtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlckZyb21DaGFuZ2UoKTtcbiAgfVxuXG4gIHVwZGF0ZVRvKHZhbHVlOiBudW1iZXIgfCAnJyk6IHZvaWQge1xuICAgIHRoaXMudG8udmFsdWUgPSBgJHt2YWx1ZX1gO1xuICAgIHRoaXMudXBkYXRlQXR0cmlidXRlc0FmdGVyVG9DaGFuZ2UoKTtcbiAgfVxuXG4gIHVwZGF0ZVN0ZXAodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc3RlcC52YWx1ZSA9IGAke3ZhbHVlfWA7XG4gICAgdGhpcy51cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJTdGVwQ2hhbmdlKCk7XG4gIH1cblxuICB1cGRhdGVNaW4odmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubWluLnZhbHVlID0gYCR7dmFsdWV9YDtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlck1pbkNoYW5nZSgpO1xuICB9XG5cbiAgdXBkYXRlTWF4KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1heC52YWx1ZSA9IGAke3ZhbHVlfWA7XG4gICAgdGhpcy51cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJNYXhDaGFuZ2UoKTtcbiAgfVxuXG4gIHVwZGF0ZVNjYWxlSW50ZXJ2YWxzKHZhbHVlOiBudW1iZXIgfCAnJyk6IHZvaWQge1xuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMudmFsdWUgPSBgJHt2YWx1ZX1gO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgYWRkTGFiZWwoXG4gICAgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQsIG5hbWU6IHN0cmluZywgY2xhc3NOYW1lPzogc3RyaW5nLFxuICApOiBIVE1MTGFiZWxFbGVtZW50IHtcbiAgICBjb25zdCBsYWJlbDogSFRNTExhYmVsRWxlbWVudCA9IEJhc2VFbGVtZW50LmNyZWF0ZUNvbXBvbmVudCgnbGFiZWwnLCAncGFuZWxfX2xhYmVsJyk7XG4gICAgbGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuXG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgbGFiZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgIH1cblxuICAgIGxhYmVsLmFwcGVuZChpbnB1dCk7XG5cbiAgICByZXR1cm4gbGFiZWw7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBjYWxjU3RlcE1pbihzdGVwOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKHN0ZXApKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICBjb25zdCBudW1iZXJPZkRpZ2l0c0FmdGVyUG9pbnQgPSBzdGVwLnRvU3RyaW5nKCkuc3BsaXQoJy4nKVsxXS5sZW5ndGg7XG4gICAgbGV0IHJlc3VsdDogc3RyaW5nID0gJzEnO1xuXG4gICAgZm9yIChsZXQgaSA9IG51bWJlck9mRGlnaXRzQWZ0ZXJQb2ludDsgaSA+IDE7IGkgLT0gMSkge1xuICAgICAgcmVzdWx0ID0gYDAke3Jlc3VsdH1gO1xuICAgIH1cblxuICAgIHJlc3VsdCA9IGAwLiR7cmVzdWx0fWA7XG5cbiAgICByZXR1cm4gTnVtYmVyKHJlc3VsdCk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyB0b2dnbGVDaGVja2JveChpbnB1dDogSFRNTElucHV0RWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnN0IGxhYmVsOiBIVE1MTGFiZWxFbGVtZW50IHwgbnVsbCA9IGlucHV0LmNsb3Nlc3QoJ2xhYmVsJyk7XG4gICAgbGFiZWw/LmNsYXNzTGlzdC50b2dnbGUoJ3BhbmVsX19sYWJlbF9mb3ItY2hlY2tib3hfY2hlY2tlZCcpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXIoKTogdm9pZCB7XG4gICAgdGhpcy5zZXRUeXBlcygpO1xuICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZChcbiAgICAgIFBhbmVsLmFkZExhYmVsKHRoaXMucmFuZ2UsICdSYW5nZTonLCAncGFuZWxfX2xhYmVsX2Zvci1jaGVja2JveCcpLFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy52ZXJ0aWNhbCwgJ1ZlcnRpY2FsOicsICdwYW5lbF9fbGFiZWxfZm9yLWNoZWNrYm94JyksXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLnZhbHVlTGFiZWxzLCAnVmFsdWUgbGFiZWxzOicsICdwYW5lbF9fbGFiZWxfZm9yLWNoZWNrYm94JyksXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLm1pbk1heExhYmVscywgJ01pbiZtYXggbGFiZWxzOicsICdwYW5lbF9fbGFiZWxfZm9yLWNoZWNrYm94JyksXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLnNjYWxlLCAnU2NhbGU6JywgJ3BhbmVsX19sYWJlbF9mb3ItY2hlY2tib3gnKSxcbiAgICAgIFBhbmVsLmFkZExhYmVsKHRoaXMuc2NhbGVJbnRlcnZhbHMsICdTY2FsZSBpbnRlcnZhbHM6JyksXG4gICAgICBQYW5lbC5hZGRMYWJlbCh0aGlzLm1pbiwgJ01pbjonKSxcbiAgICAgIFBhbmVsLmFkZExhYmVsKHRoaXMubWF4LCAnTWF4OicpLFxuICAgICAgUGFuZWwuYWRkTGFiZWwodGhpcy5mcm9tLCAnRnJvbTonKSxcbiAgICAgIFBhbmVsLmFkZExhYmVsKHRoaXMudG8sICdUbzonKSxcbiAgICAgIFBhbmVsLmFkZExhYmVsKHRoaXMuc3RlcCwgJ1N0ZXA6JyksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0VHlwZXMoKTogdm9pZCB7XG4gICAgdGhpcy5taW4udHlwZSA9ICdudW1iZXInO1xuICAgIHRoaXMubWF4LnR5cGUgPSAnbnVtYmVyJztcbiAgICB0aGlzLnN0ZXAudHlwZSA9ICdudW1iZXInO1xuICAgIHRoaXMuZnJvbS50eXBlID0gJ251bWJlcic7XG4gICAgdGhpcy50by50eXBlID0gJ251bWJlcic7XG4gICAgdGhpcy52ZXJ0aWNhbC50eXBlID0gJ2NoZWNrYm94JztcbiAgICB0aGlzLnJhbmdlLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgIHRoaXMuc2NhbGUudHlwZSA9ICdjaGVja2JveCc7XG4gICAgdGhpcy5zY2FsZUludGVydmFscy50eXBlID0gJ251bWJlcic7XG4gICAgdGhpcy52YWx1ZUxhYmVscy50eXBlID0gJ2NoZWNrYm94JztcbiAgICB0aGlzLm1pbk1heExhYmVscy50eXBlID0gJ2NoZWNrYm94JztcbiAgfVxuXG4gIHByaXZhdGUgc2V0QXR0cmlidXRlcyhvcHRpb25zOiBQYW5lbE9wdGlvbnMpOiB2b2lkIHtcbiAgICB0aGlzLmZyb20ubWluID0gYCR7b3B0aW9ucy5taW59YDtcbiAgICB0aGlzLmZyb20ubWF4ID0gb3B0aW9ucy5yYW5nZSA/IGAke29wdGlvbnMudG99YCA6IGAke29wdGlvbnMubWF4fWA7XG5cbiAgICB0aGlzLnRvLm1pbiA9IGAke29wdGlvbnMuZnJvbX1gO1xuICAgIHRoaXMudG8ubWF4ID0gYCR7b3B0aW9ucy5tYXh9YDtcblxuICAgIHRoaXMuZnJvbS5zdGVwID0gYCR7b3B0aW9ucy5zdGVwfWA7XG4gICAgdGhpcy50by5zdGVwID0gYCR7b3B0aW9ucy5zdGVwfWA7XG5cbiAgICB0aGlzLm1pbi5zdGVwID0gYCR7b3B0aW9ucy5zdGVwfWA7XG4gICAgdGhpcy5tYXguc3RlcCA9IGAke29wdGlvbnMuc3RlcH1gO1xuXG4gICAgdGhpcy5taW4ubWF4ID0gYCR7b3B0aW9ucy5mcm9tfWA7XG4gICAgdGhpcy5tYXgubWluID0gb3B0aW9ucy5yYW5nZSA/IGAke29wdGlvbnMudG99YCA6IGAke29wdGlvbnMuZnJvbX1gO1xuXG4gICAgdGhpcy5zdGVwLm1pbiA9IGAke1BhbmVsLmNhbGNTdGVwTWluKG9wdGlvbnMuc3RlcCl9YDtcbiAgICB0aGlzLnN0ZXAuc3RlcCA9IHRoaXMuc3RlcC5taW47XG4gICAgdGhpcy5zdGVwLm1heCA9IGAke01hdGguYWJzKG9wdGlvbnMubWF4IC0gb3B0aW9ucy5taW4pfWA7XG5cbiAgICBpZiAoIW9wdGlvbnMucmFuZ2UpIHtcbiAgICAgIHRoaXMudG8uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMubWluID0gJzEnO1xuXG4gICAgaWYgKCFvcHRpb25zLnNjYWxlKSB7XG4gICAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNldENoZWNrTWFya3MoKTogdm9pZCB7XG4gICAgY29uc3QgY2hlY2tib3hlcyA9IFtcbiAgICAgIHRoaXMudmVydGljYWwsXG4gICAgICB0aGlzLnJhbmdlLFxuICAgICAgdGhpcy5zY2FsZSxcbiAgICAgIHRoaXMudmFsdWVMYWJlbHMsXG4gICAgICB0aGlzLm1pbk1heExhYmVscyxcbiAgICBdO1xuICAgIGNoZWNrYm94ZXMuZm9yRWFjaCgoY2hlY2tib3gpID0+IHtcbiAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgIFBhbmVsLnRvZ2dsZUNoZWNrYm94KGNoZWNrYm94KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQXR0cmlidXRlc0FmdGVyRnJvbUNoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLm1pbi5tYXggPSB0aGlzLmZyb20udmFsdWU7XG5cbiAgICBpZiAodGhpcy52aWV3LmlzUmFuZ2UoKSkge1xuICAgICAgdGhpcy50by5taW4gPSB0aGlzLmZyb20udmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnZpZXcuaXNSYW5nZSgpKSB7XG4gICAgICB0aGlzLm1heC5taW4gPSB0aGlzLmZyb20udmFsdWU7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJUb0NoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLmZyb20ubWF4ID0gdGhpcy50by52YWx1ZTtcbiAgICB0aGlzLm1heC5taW4gPSB0aGlzLnRvLnZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJTdGVwQ2hhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMuc3RlcC5taW4gPSBgJHtQYW5lbC5jYWxjU3RlcE1pbihOdW1iZXIodGhpcy5zdGVwLnZhbHVlKSl9YDtcbiAgICB0aGlzLnN0ZXAuc3RlcCA9IGAke1BhbmVsLmNhbGNTdGVwTWluKE51bWJlcih0aGlzLnN0ZXAudmFsdWUpKX1gO1xuXG4gICAgdGhpcy5mcm9tLnN0ZXAgPSB0aGlzLnN0ZXAudmFsdWU7XG4gICAgdGhpcy50by5zdGVwID0gdGhpcy5zdGVwLnZhbHVlO1xuICAgIHRoaXMubWluLnN0ZXAgPSB0aGlzLnN0ZXAudmFsdWU7XG4gICAgdGhpcy5tYXguc3RlcCA9IHRoaXMuc3RlcC52YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQXR0cmlidXRlc0FmdGVyTWluQ2hhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMuZnJvbS5taW4gPSB0aGlzLm1pbi52YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQXR0cmlidXRlc0FmdGVyTWF4Q2hhbmdlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy52aWV3LmlzUmFuZ2UoKSkge1xuICAgICAgdGhpcy5mcm9tLm1heCA9IHRoaXMubWF4LnZhbHVlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaXNSYW5nZSgpKSB7XG4gICAgICB0aGlzLnRvLm1heCA9IHRoaXMubWF4LnZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTWluQ2hhbmdlKCk6IHZvaWQge1xuICAgIGlmIChOdW1iZXIodGhpcy5taW4udmFsdWUpID4gTnVtYmVyKHRoaXMuZnJvbS52YWx1ZSkpIHtcbiAgICAgIHRoaXMubWluLnZhbHVlID0gdGhpcy5mcm9tLnZhbHVlO1xuICAgIH1cblxuICAgIHRoaXMudmlldy5zZXRNaW5Gcm9tT3V0c2lkZShOdW1iZXIodGhpcy5taW4udmFsdWUpKTtcbiAgICB0aGlzLnN0ZXAubWF4ID0gYCR7TWF0aC5hYnMoTnVtYmVyKHRoaXMubWF4LnZhbHVlKSAtIE51bWJlcih0aGlzLm1pbi52YWx1ZSkpfWA7XG4gICAgdGhpcy51cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJNaW5DaGFuZ2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTWF4Q2hhbmdlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy52aWV3LmlzUmFuZ2UoKSkge1xuICAgICAgaWYgKE51bWJlcih0aGlzLm1heC52YWx1ZSkgPCBOdW1iZXIodGhpcy5mcm9tLnZhbHVlKSkge1xuICAgICAgICB0aGlzLm1heC52YWx1ZSA9IHRoaXMuZnJvbS52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3LmlzUmFuZ2UoKSkge1xuICAgICAgaWYgKE51bWJlcih0aGlzLm1heC52YWx1ZSkgPCBOdW1iZXIodGhpcy50by52YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5tYXgudmFsdWUgPSB0aGlzLnRvLnZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudmlldy5zZXRNYXhGcm9tT3V0c2lkZShOdW1iZXIodGhpcy5tYXgudmFsdWUpKTtcbiAgICB0aGlzLnN0ZXAubWF4ID0gYCR7TWF0aC5hYnMoTnVtYmVyKHRoaXMubWF4LnZhbHVlKSAtIE51bWJlcih0aGlzLm1pbi52YWx1ZSkpfWA7XG4gICAgdGhpcy51cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJNYXhDaGFuZ2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlU3RlcENoYW5nZSgpOiB2b2lkIHtcbiAgICBpZiAoTnVtYmVyKHRoaXMuc3RlcC52YWx1ZSkgPiBOdW1iZXIodGhpcy5zdGVwLm1heCkpIHtcbiAgICAgIHRoaXMuc3RlcC52YWx1ZSA9IHRoaXMuc3RlcC5tYXg7XG4gICAgfVxuXG4gICAgaWYgKE51bWJlcih0aGlzLnN0ZXAudmFsdWUpIDw9IDApIHtcbiAgICAgIHRoaXMuc3RlcC52YWx1ZSA9IHRoaXMuc3RlcC5taW47XG4gICAgfVxuXG4gICAgdGhpcy52aWV3LnNldFN0ZXBGcm9tT3V0c2lkZShOdW1iZXIodGhpcy5zdGVwLnZhbHVlKSk7XG4gICAgdGhpcy51cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJTdGVwQ2hhbmdlKCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUZyb21DaGFuZ2UoKTogdm9pZCB7XG4gICAgaWYgKE51bWJlcih0aGlzLmZyb20udmFsdWUpID4gTnVtYmVyKHRoaXMuZnJvbS5tYXgpKSB7XG4gICAgICB0aGlzLmZyb20udmFsdWUgPSB0aGlzLmZyb20ubWF4O1xuICAgIH1cblxuICAgIGlmIChOdW1iZXIodGhpcy5mcm9tLnZhbHVlKSA8IE51bWJlcih0aGlzLmZyb20ubWluKSkge1xuICAgICAgdGhpcy5mcm9tLnZhbHVlID0gdGhpcy5mcm9tLm1pbjtcbiAgICB9XG5cbiAgICB0aGlzLnZpZXcuc2V0TGVmdEZyb21PdXRzaWRlKE51bWJlcih0aGlzLmZyb20udmFsdWUpKTtcbiAgICB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXNBZnRlckZyb21DaGFuZ2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVG9DaGFuZ2UoKTogdm9pZCB7XG4gICAgaWYgKE51bWJlcih0aGlzLnRvLnZhbHVlKSA+IE51bWJlcih0aGlzLnRvLm1heCkpIHtcbiAgICAgIHRoaXMudG8udmFsdWUgPSB0aGlzLnRvLm1heDtcbiAgICB9XG5cbiAgICBpZiAoTnVtYmVyKHRoaXMudG8udmFsdWUpIDwgTnVtYmVyKHRoaXMudG8ubWluKSkge1xuICAgICAgdGhpcy50by52YWx1ZSA9IHRoaXMudG8ubWluO1xuICAgIH1cblxuICAgIHRoaXMudmlldy5zZXRSaWdodEZyb21PdXRzaWRlKE51bWJlcih0aGlzLnRvLnZhbHVlKSk7XG4gICAgdGhpcy51cGRhdGVBdHRyaWJ1dGVzQWZ0ZXJUb0NoYW5nZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWZXJ0aWNhbENoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXcudG9nZ2xlT3JpZW50YXRpb25Gcm9tT3V0c2lkZSgpO1xuICAgIFBhbmVsLnRvZ2dsZUNoZWNrYm94KHRoaXMudmVydGljYWwpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVSYW5nZUNoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXcudG9nZ2xlUmFuZ2VGcm9tT3V0c2lkZSgpO1xuXG4gICAgdGhpcy50by5kaXNhYmxlZCA9ICF0aGlzLnRvLmRpc2FibGVkO1xuXG4gICAgaWYgKHRoaXMucmFuZ2UuY2hlY2tlZCkge1xuICAgICAgdGhpcy5mcm9tLm1heCA9IHRoaXMudG8udmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZnJvbS5tYXggPSB0aGlzLm1heC52YWx1ZTtcbiAgICB9XG5cbiAgICBQYW5lbC50b2dnbGVDaGVja2JveCh0aGlzLnJhbmdlKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlU2NhbGVDaGFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy52aWV3LnRvZ2dsZVNjYWxlRnJvbU91dHNpZGUoKTtcblxuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMuZGlzYWJsZWQgPSAhdGhpcy5zY2FsZUludGVydmFscy5kaXNhYmxlZDtcblxuICAgIFBhbmVsLnRvZ2dsZUNoZWNrYm94KHRoaXMuc2NhbGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVTY2FsZUludGVydmFsc0NoYW5nZSgpOiB2b2lkIHtcbiAgICBpZiAoTnVtYmVyKHRoaXMuc2NhbGVJbnRlcnZhbHMudmFsdWUpIDwgTnVtYmVyKHRoaXMuc2NhbGVJbnRlcnZhbHMubWluKSkge1xuICAgICAgdGhpcy5zY2FsZUludGVydmFscy52YWx1ZSA9IHRoaXMuc2NhbGVJbnRlcnZhbHMubWluO1xuICAgIH1cblxuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcih0aGlzLnNjYWxlSW50ZXJ2YWxzLnZhbHVlKSkge1xuICAgICAgdGhpcy5zY2FsZUludGVydmFscy52YWx1ZSA9IGAke01hdGguZmxvb3IoTnVtYmVyKHRoaXMuc2NhbGVJbnRlcnZhbHMudmFsdWUpKX1gO1xuICAgIH1cblxuICAgIHRoaXMudmlldy5zZXRTY2FsZUludGVydmFscyhOdW1iZXIodGhpcy5zY2FsZUludGVydmFscy52YWx1ZSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWYWx1ZUxhYmVsc0NoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXcudG9nZ2xlVmFsdWVMYWJlbHMoKTtcbiAgICBQYW5lbC50b2dnbGVDaGVja2JveCh0aGlzLnZhbHVlTGFiZWxzKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTWluTWF4TGFiZWxzQ2hhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMudmlldy50b2dnbGVNaW5NYXhMYWJlbHMoKTtcbiAgICBQYW5lbC50b2dnbGVDaGVja2JveCh0aGlzLm1pbk1heExhYmVscyk7XG4gIH1cblxuICBwcml2YXRlIGF0dGFjaEV2ZW50SGFuZGxlcnMoKTogdm9pZCB7XG4gICAgdGhpcy5taW4uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVNaW5DaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5tYXguYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVNYXhDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5zdGVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlU3RlcENoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmZyb20uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVGcm9tQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMudG8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVUb0NoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnZlcnRpY2FsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlVmVydGljYWxDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5yYW5nZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZVJhbmdlQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2NhbGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVTY2FsZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnNjYWxlSW50ZXJ2YWxzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlU2NhbGVJbnRlcnZhbHNDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy52YWx1ZUxhYmVscy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZVZhbHVlTGFiZWxzQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMubWluTWF4TGFiZWxzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlTWluTWF4TGFiZWxzQ2hhbmdlLmJpbmQodGhpcykpO1xuICB9XG59XG5cbmV4cG9ydCB7IFBhbmVsT3B0aW9ucywgUGFuZWwgfTtcbiIsImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuL0Jhc2VFbGVtZW50L0Jhc2VFbGVtZW50JztcbmltcG9ydCBUcmFjayBmcm9tICcuL3N1YnZpZXdzL1RyYWNrL1RyYWNrJztcbmltcG9ydCBSYW5nZSBmcm9tICcuL3N1YnZpZXdzL1JhbmdlL1JhbmdlJztcbmltcG9ydCBUaHVtYiBmcm9tICcuL3N1YnZpZXdzL1RodW1iL1RodW1iJztcbmltcG9ydCBTY2FsZSBmcm9tICcuL3N1YnZpZXdzL1NjYWxlL1NjYWxlJztcbmltcG9ydCBMYWJlbHNDb250YWluZXIgZnJvbSAnLi9zdWJ2aWV3cy9MYWJlbHNDb250YWluZXIvTGFiZWxzQ29udGFpbmVyJztcbmltcG9ydCBMYWJlbCBmcm9tICcuL3N1YnZpZXdzL0xhYmVsL0xhYmVsJztcbmltcG9ydCBJbnB1dCBmcm9tICcuL3N1YnZpZXdzL0lucHV0L0lucHV0JztcbmltcG9ydCB7IFBhbmVsLCBQYW5lbE9wdGlvbnMgfSBmcm9tICcuL3N1YnZpZXdzL1BhbmVsL1BhbmVsJztcbmltcG9ydCB7IEV2ZW50TWFuYWdlciwgSUV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi9FdmVudE1hbmFnZXIvRXZlbnRNYW5hZ2VyJztcblxudHlwZSBWaWV3T3B0aW9ucyA9IHtcbiAgbWluTWF4TGFiZWxzPzogYm9vbGVhbixcbiAgdmFsdWVMYWJlbHM/OiBib29sZWFuLFxuICB2ZXJ0aWNhbD86IGJvb2xlYW4sXG4gIHJhbmdlPzogYm9vbGVhbixcbiAgc2NhbGU/OiBib29sZWFuLFxuICBzY2FsZUludGVydmFscz86IG51bWJlcixcbiAgcGFuZWw/OiBib29sZWFuXG59O1xuXG5jbGFzcyBWaWV3IGV4dGVuZHMgQmFzZUVsZW1lbnQ8J2Rpdic+IHtcbiAgcHJpdmF0ZSBldmVudE1hbmFnZXI6IEV2ZW50TWFuYWdlcjtcblxuICBwcml2YXRlIHNsaWRlcjogSFRNTERpdkVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSB0cmFjazogVHJhY2s7XG5cbiAgcHJpdmF0ZSByYW5nZTogUmFuZ2U7XG5cbiAgcHJpdmF0ZSBpbnB1dDogSW5wdXQ7XG5cbiAgcHJpdmF0ZSB0aHVtYkxlZnQ6IFRodW1iO1xuXG4gIHByaXZhdGUgdGh1bWJSaWdodD86IFRodW1iO1xuXG4gIHByaXZhdGUgc2NhbGU/OiBTY2FsZTtcblxuICBwcml2YXRlIHNjYWxlSW50ZXJ2YWxzOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBtaW5MYWJlbD86IExhYmVsO1xuXG4gIHByaXZhdGUgbWF4TGFiZWw/OiBMYWJlbDtcblxuICBwcml2YXRlIHZhbHVlTGFiZWxMZWZ0PzogTGFiZWw7XG5cbiAgcHJpdmF0ZSB2YWx1ZUxhYmVsUmlnaHQ/OiBMYWJlbDtcblxuICBwcml2YXRlIHZhbHVlTGFiZWxDb21tb24/OiBMYWJlbDtcblxuICBwcml2YXRlIHZlcnRpY2FsPzogYm9vbGVhbjtcblxuICBwcml2YXRlIGxhYmVsc0NvbnRhaW5lcj86IExhYmVsc0NvbnRhaW5lcjtcblxuICBwcml2YXRlIHBhbmVsPzogUGFuZWw7XG5cbiAgY29uc3RydWN0b3IoY29tcG9uZW50OiBIVE1MRGl2RWxlbWVudCwgb3B0aW9uczogVmlld09wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKCdkaXYnKTtcblxuICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyID0gbmV3IEV2ZW50TWFuYWdlcigpO1xuXG4gICAgdGhpcy5zbGlkZXIgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2RpdicsICdyYW5nZS1zbGlkZXJfX3NsaWRlcicpO1xuICAgIHRoaXMudHJhY2sgPSBuZXcgVHJhY2sodGhpcyk7XG4gICAgdGhpcy5yYW5nZSA9IG5ldyBSYW5nZSgpO1xuXG4gICAgdGhpcy50aHVtYkxlZnQgPSBuZXcgVGh1bWIodGhpcywgJ2xlZnQnKTtcblxuICAgIHRoaXMuaW5wdXQgPSBuZXcgSW5wdXQoKTtcblxuICAgIGlmIChvcHRpb25zLnJhbmdlKSB7XG4gICAgICB0aGlzLnRodW1iUmlnaHQgPSBuZXcgVGh1bWIodGhpcywgJ3JpZ2h0Jyk7XG4gICAgfVxuXG4gICAgLy8gdGhpcyBmaWVsZCBpcyBhbHdheXMgaW5pdGlhbGl6ZWQgaW4gY2FzZSB0aGUgdG9nZ2xlU2NhbGVGcm9tT3V0c2lkZSgpIG1ldGhvZCB3aWxsIGJlIGNhbGxlZFxuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMgPSBvcHRpb25zLnNjYWxlSW50ZXJ2YWxzID8/IDQ7XG5cbiAgICBpZiAob3B0aW9ucy5zY2FsZSkge1xuICAgICAgLyogY3JlYXRlIHNjYWxlIHdpdGggYXJiaXRyYXJ5IHZhbHVlcywgd2hpY2ggd2lsbCBiZSByZXBsYWNlZCBsYXRlciBieSBQcmVzZW50ZXJcbiAgICAgICAqIGl0IGlzIG5lY2Vzc2FyeSBmb3IgaGFzU2NhbGUoKSByZXR1cm4gdHJ1ZSAqL1xuICAgICAgdGhpcy5zY2FsZSA9IG5ldyBTY2FsZSgwLCAxMDAsIHRoaXMpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLm1pbk1heExhYmVscyB8fCBvcHRpb25zLnZhbHVlTGFiZWxzKSB7XG4gICAgICB0aGlzLmxhYmVsc0NvbnRhaW5lciA9IG5ldyBMYWJlbHNDb250YWluZXIoKTtcblxuICAgICAgaWYgKG9wdGlvbnMubWluTWF4TGFiZWxzKSB7XG4gICAgICAgIHRoaXMubWluTGFiZWwgPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fbWluLW1heC1sYWJlbCByYW5nZS1zbGlkZXJfX21pbi1tYXgtbGFiZWxfbGVmdCcpO1xuICAgICAgICB0aGlzLm1heExhYmVsID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX21pbi1tYXgtbGFiZWwgcmFuZ2Utc2xpZGVyX19taW4tbWF4LWxhYmVsX3JpZ2h0Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLnZhbHVlTGFiZWxzKSB7XG4gICAgICAgIHRoaXMudmFsdWVMYWJlbExlZnQgPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWwgcmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9sZWZ0Jyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucmFuZ2UpIHtcbiAgICAgICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodCA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbCByYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX3JpZ2h0Jyk7XG4gICAgICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsIHJhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfY29tbW9uJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy52ZXJ0aWNhbCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMucGFuZWwpIHtcbiAgICAgIHRoaXMucGFuZWwgPSBuZXcgUGFuZWwodGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHN1YnNjcmliZShsaXN0ZW5lcjogSUV2ZW50TGlzdGVuZXIpOiB2b2lkIHtcbiAgICB0aGlzLmV2ZW50TWFuYWdlci5zdWJzY3JpYmUobGlzdGVuZXIpO1xuICB9XG5cbiAgc2V0TWluVmFsdWUobWluOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1pbkxhYmVsPy5zZXRWYWx1ZShtaW4pO1xuICB9XG5cbiAgc2V0TWF4VmFsdWUobWF4OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1heExhYmVsPy5zZXRWYWx1ZShtYXgpO1xuICB9XG5cbiAgc2V0TGVmdFZhbHVlKHZhbHVlOiBudW1iZXIsIHBlcmNlbnQ6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy50aHVtYkxlZnQuc2V0SW5kZW50KCdsZWZ0JywgcGVyY2VudCk7XG5cbiAgICAgIGlmICh0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgICB0aGlzLnJhbmdlLnNldEluZGVudCgnbGVmdCcsIHBlcmNlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yYW5nZS5zZXRXaWR0aChwZXJjZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdD8uc2V0SW5kZW50KCdsZWZ0JywgYCR7cGVyY2VudH0lYCk7XG5cbiAgICAgIHRoaXMudGh1bWJMZWZ0LnNldFpJbmRleChwZXJjZW50ID09PSAxMDAgPyAxMDAgOiAzKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy50aHVtYkxlZnQuc2V0SW5kZW50KCd0b3AnLCAxMDAgLSBwZXJjZW50KTtcblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCdib3R0b20nLCBwZXJjZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmFuZ2Uuc2V0SGVpZ2h0KHBlcmNlbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0Py5zZXRJbmRlbnQoJ3RvcCcsIGAkezEwMCAtIHBlcmNlbnR9JWApO1xuXG4gICAgICB0aGlzLnRodW1iTGVmdC5zZXRaSW5kZXgocGVyY2VudCA9PT0gMTAwID8gMTAwIDogMyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgIHRoaXMudmFsdWVMYWJlbExlZnQuc2V0VmFsdWUodmFsdWUpO1xuXG4gICAgICBpZiAodGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uPy5zZXRWYWx1ZShgJHt2YWx1ZX0gLSAke3RoaXMudmFsdWVMYWJlbFJpZ2h0Py5nZXRWYWx1ZSgpfWApO1xuXG4gICAgICAgIGlmICh0aGlzLmlzVHdvVmFsdWVMYWJlbHNDbG9zZSgpKSB7XG4gICAgICAgICAgdGhpcy5tZXJnZUxhYmVscygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc3BsaXRMYWJlbHMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5taW5MYWJlbCkge1xuICAgICAgICB0aGlzLm1pbkxhYmVsLnNldE9wYWNpdHkodGhpcy5pc0xlZnRWYWx1ZUxhYmVsQ2xvc2VUb01pbkxhYmVsKCkgPyAwIDogMSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgICAgIHRoaXMubWF4TGFiZWw/LnNldE9wYWNpdHkodGhpcy5pc0xlZnRWYWx1ZUxhYmVsQ2xvc2VUb01heExhYmVsKCkgPyAwIDogMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRSaWdodFZhbHVlKHZhbHVlOiBudW1iZXIsIHBlcmNlbnQ6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy50aHVtYlJpZ2h0Py5zZXRJbmRlbnQoJ2xlZnQnLCBwZXJjZW50KTtcbiAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCdyaWdodCcsIDEwMCAtIHBlcmNlbnQpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsUmlnaHQ/LnNldEluZGVudCgnbGVmdCcsIGAke3BlcmNlbnR9JWApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLnRodW1iUmlnaHQ/LnNldEluZGVudCgndG9wJywgMTAwIC0gcGVyY2VudCk7XG4gICAgICB0aGlzLnJhbmdlLnNldEluZGVudCgndG9wJywgMTAwIC0gcGVyY2VudCk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodD8uc2V0SW5kZW50KCd0b3AnLCBgJHsxMDAgLSBwZXJjZW50fSVgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52YWx1ZUxhYmVsUmlnaHQpIHtcbiAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0LnNldFZhbHVlKHZhbHVlKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbj8uc2V0VmFsdWUoYCR7dGhpcy52YWx1ZUxhYmVsTGVmdD8uZ2V0VmFsdWUoKX0gLSAke3ZhbHVlfWApO1xuXG4gICAgICBpZiAodGhpcy5pc1R3b1ZhbHVlTGFiZWxzQ2xvc2UoKSkge1xuICAgICAgICB0aGlzLm1lcmdlTGFiZWxzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNwbGl0TGFiZWxzKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm1heExhYmVsKSB7XG4gICAgICAgIHRoaXMubWF4TGFiZWwuc2V0T3BhY2l0eSh0aGlzLmlzUmlnaHRWYWx1ZUxhYmVsQ2xvc2VUb01heExhYmVsKCkgPyAwIDogMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlSW5wdXQodmFsdWUxOiBudW1iZXIsIHZhbHVlMjogbnVtYmVyIHwgbnVsbCA9IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLmlucHV0LnNldFZhbHVlKHZhbHVlMSwgdmFsdWUyKTtcbiAgfVxuXG4gIGhhbmRsZUxlZnRJbnB1dChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlciwgc2hpZnRYOiBudW1iZXIgPSAwLCBzaGlmdFk6IG51bWJlciA9IDApOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgIGNvbnN0IHRyYWNrU2hpZnQgPSB0aGlzLnRyYWNrLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICBsZXQgbmV3TGVmdCA9IGNsaWVudFggLSBzaGlmdFggLSB0cmFja1NoaWZ0O1xuXG4gICAgICBpZiAobmV3TGVmdCA8IDApIHtcbiAgICAgICAgbmV3TGVmdCA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgICAgY29uc3QgdHJhY2tXaWR0aCA9IHRoaXMuZ2V0VHJhY2tXaWR0aCgpO1xuXG4gICAgICAgIGlmIChuZXdMZWZ0ID4gdHJhY2tXaWR0aCkge1xuICAgICAgICAgIG5ld0xlZnQgPSB0cmFja1dpZHRoO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzUmFuZ2UoKSAmJiB0aGlzLnRodW1iUmlnaHQpIHtcbiAgICAgICAgY29uc3QgcmlnaHRUaHVtYlNoaWZ0ID0gdGhpcy50aHVtYlJpZ2h0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICAgIGNvbnN0IHJpZ2h0VGh1bWJQb3NpdGlvbiA9IHJpZ2h0VGh1bWJTaGlmdCArIHRoaXMudGh1bWJSaWdodC5nZXRXaWR0aCgpIC8gMiAtIHRyYWNrU2hpZnQ7XG5cbiAgICAgICAgaWYgKG5ld0xlZnQgPiByaWdodFRodW1iUG9zaXRpb24pIHtcbiAgICAgICAgICBuZXdMZWZ0ID0gcmlnaHRUaHVtYlBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgndmlld0lucHV0TGVmdCcsIG5ld0xlZnQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBjb25zdCB0cmFja1NoaWZ0ID0gdGhpcy50cmFjay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICBsZXQgbmV3VG9wID0gY2xpZW50WSAtIHNoaWZ0WSAtIHRyYWNrU2hpZnQ7XG5cbiAgICAgIGNvbnN0IHRyYWNrSGVpZ2h0ID0gdGhpcy5nZXRUcmFja0hlaWdodCgpO1xuICAgICAgaWYgKG5ld1RvcCA+IHRyYWNrSGVpZ2h0KSB7XG4gICAgICAgIG5ld1RvcCA9IHRyYWNrSGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaXNSYW5nZSgpICYmIG5ld1RvcCA8IDApIHtcbiAgICAgICAgbmV3VG9wID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpICYmIHRoaXMudGh1bWJSaWdodCkge1xuICAgICAgICBjb25zdCByaWdodFRodW1iU2hpZnQgPSB0aGlzLnRodW1iUmlnaHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICBjb25zdCByaWdodFRodW1iUG9zaXRpb24gPSByaWdodFRodW1iU2hpZnQgKyB0aGlzLnRodW1iUmlnaHQuZ2V0SGVpZ2h0KCkgLyAyIC0gdHJhY2tTaGlmdDtcblxuICAgICAgICBpZiAobmV3VG9wIDwgcmlnaHRUaHVtYlBvc2l0aW9uKSB7XG4gICAgICAgICAgbmV3VG9wID0gcmlnaHRUaHVtYlBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ld0JvdHRvbSA9IHRyYWNrSGVpZ2h0IC0gbmV3VG9wO1xuXG4gICAgICB0aGlzLmV2ZW50TWFuYWdlci5ub3RpZnkoJ3ZpZXdJbnB1dExlZnQnLCBuZXdCb3R0b20pO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVJpZ2h0SW5wdXQoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIsIHNoaWZ0WDogbnVtYmVyID0gMCwgc2hpZnRZOiBudW1iZXIgPSAwKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBjb25zdCB0cmFja1NoaWZ0ID0gdGhpcy50cmFjay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgICAgbGV0IG5ld0xlZnQgPSBjbGllbnRYIC0gc2hpZnRYIC0gdHJhY2tTaGlmdDtcblxuICAgICAgY29uc3QgbGVmdFRodW1iU2hpZnQgPSB0aGlzLnRodW1iTGVmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgICAgY29uc3QgbGVmdFRodW1iUG9zaXRpb24gPSBsZWZ0VGh1bWJTaGlmdCArIHRoaXMudGh1bWJMZWZ0LmdldFdpZHRoKCkgLyAyIC0gdHJhY2tTaGlmdDtcblxuICAgICAgaWYgKG5ld0xlZnQgPCBsZWZ0VGh1bWJQb3NpdGlvbikge1xuICAgICAgICBuZXdMZWZ0ID0gbGVmdFRodW1iUG9zaXRpb247XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyYWNrV2lkdGggPSB0aGlzLmdldFRyYWNrV2lkdGgoKTtcbiAgICAgIGlmIChuZXdMZWZ0ID4gdHJhY2tXaWR0aCkge1xuICAgICAgICBuZXdMZWZ0ID0gdHJhY2tXaWR0aDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KCd2aWV3SW5wdXRSaWdodCcsIG5ld0xlZnQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBjb25zdCB0cmFja1NoaWZ0ID0gdGhpcy50cmFjay5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICBsZXQgbmV3VG9wID0gY2xpZW50WSAtIHNoaWZ0WSAtIHRyYWNrU2hpZnQ7XG5cbiAgICAgIGlmIChuZXdUb3AgPCAwKSB7XG4gICAgICAgIG5ld1RvcCA9IDA7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGxlZnRUaHVtYlNoaWZ0ID0gdGhpcy50aHVtYkxlZnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgY29uc3QgbGVmdFRodW1iUG9zaXRpb24gPSBsZWZ0VGh1bWJTaGlmdCArIHRoaXMudGh1bWJMZWZ0LmdldEhlaWdodCgpIC8gMiAtIHRyYWNrU2hpZnQ7XG5cbiAgICAgIGlmIChuZXdUb3AgPiBsZWZ0VGh1bWJQb3NpdGlvbikge1xuICAgICAgICBuZXdUb3AgPSBsZWZ0VGh1bWJQb3NpdGlvbjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV3Qm90dG9tID0gdGhpcy5nZXRUcmFja0hlaWdodCgpIC0gbmV3VG9wO1xuXG4gICAgICB0aGlzLmV2ZW50TWFuYWdlci5ub3RpZnkoJ3ZpZXdJbnB1dFJpZ2h0JywgbmV3Qm90dG9tKTtcbiAgICB9XG4gIH1cblxuICBhZGRTY2FsZShtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnNjYWxlID0gbmV3IFNjYWxlKG1pbiwgbWF4LCB0aGlzKTtcbiAgICB0aGlzLnNsaWRlci5hZnRlcih0aGlzLnNjYWxlLmdldENvbXBvbmVudCgpKTtcblxuICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy5zY2FsZS5maXRIZWlnaHRGb3JIb3Jpem9udGFsKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuc2NhbGUuZml0V2lkdGhGb3JWZXJ0aWNhbCgpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZVNjYWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc2NhbGU/LmdldENvbXBvbmVudCgpLnJlbW92ZSgpO1xuICAgIHRoaXMuc2NhbGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBnZXRTY2FsZUludGVydmFscygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnNjYWxlSW50ZXJ2YWxzIHx8IDA7XG4gIH1cblxuICBoYW5kbGVTY2FsZU9yVHJhY2tDbGljayh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMuYWRkU21vb3RoVHJhbnNpdGlvbignbGVmdCcpO1xuXG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5ub3RpZnkoJ3ZpZXdJbnB1dExlZnQnLCB0aGlzLmdldFRyYWNrSGVpZ2h0KCkgLSB5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgndmlld0lucHV0TGVmdCcsIHgpO1xuICAgICAgfVxuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5yZW1vdmVTbW9vdGhUcmFuc2l0aW9uKCdsZWZ0Jyk7XG4gICAgICB9LCAxMDAwKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1JhbmdlKCkpIHtcbiAgICAgIGlmICh0aGlzLndoaWNoVGh1bWJJc05lYXJlcih4LCB5KSA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIHRoaXMuYWRkU21vb3RoVHJhbnNpdGlvbignbGVmdCcpO1xuXG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KCd2aWV3SW5wdXRMZWZ0JywgdGhpcy5nZXRUcmFja0hlaWdodCgpIC0geSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KCd2aWV3SW5wdXRMZWZ0JywgeCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlbW92ZVNtb290aFRyYW5zaXRpb24oJ2xlZnQnKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZFNtb290aFRyYW5zaXRpb24oJ3JpZ2h0Jyk7XG5cbiAgICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5ub3RpZnkoJ3ZpZXdJbnB1dFJpZ2h0JywgdGhpcy5nZXRUcmFja0hlaWdodCgpIC0geSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KCd2aWV3SW5wdXRSaWdodCcsIHgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVTbW9vdGhUcmFuc2l0aW9uKCdyaWdodCcpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmaXhMYWJlbHNDb250YWluZXJXaWR0aEZvclZlcnRpY2FsKCk6IHZvaWQge1xuICAgIGNvbnN0IGxhYmVsczogSFRNTEVsZW1lbnRbXSA9IHRoaXMuY29sbGVjdExhYmVscygpO1xuICAgIHRoaXMubGFiZWxzQ29udGFpbmVyPy5maXhXaWR0aEZvclZlcnRpY2FsKGxhYmVscyk7XG4gIH1cblxuICBmaXhMYWJlbHNDb250YWluZXJIZWlnaHRGb3JIb3Jpem9udGFsKCk6IHZvaWQge1xuICAgIGNvbnN0IGxhYmVsczogSFRNTEVsZW1lbnRbXSA9IHRoaXMuY29sbGVjdExhYmVscygpO1xuICAgIHRoaXMubGFiZWxzQ29udGFpbmVyPy5maXhIZWlnaHRGb3JIb3Jpem9udGFsKGxhYmVscyk7XG4gIH1cblxuICBzZXRQYW5lbFZhbHVlcyhvcHRpb25zOiBQYW5lbE9wdGlvbnMpOiB2b2lkIHtcbiAgICB0aGlzLnBhbmVsPy5zZXRWYWx1ZXMob3B0aW9ucyk7XG4gIH1cblxuICB1cGRhdGVQYW5lbEZyb20odmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMucGFuZWw/LnVwZGF0ZUZyb20odmFsdWUpO1xuICB9XG5cbiAgdXBkYXRlUGFuZWxUbyh2YWx1ZTogbnVtYmVyIHwgJycpOiB2b2lkIHtcbiAgICB0aGlzLnBhbmVsPy51cGRhdGVUbyh2YWx1ZSk7XG4gIH1cblxuICB1cGRhdGVQYW5lbFNjYWxlSW50ZXJ2YWxzKHZhbHVlOiBudW1iZXIgfCAnJyk6IHZvaWQge1xuICAgIHRoaXMucGFuZWw/LnVwZGF0ZVNjYWxlSW50ZXJ2YWxzKHZhbHVlKTtcbiAgfVxuXG4gIHVwZGF0ZVBhbmVsU3RlcCh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5wYW5lbD8udXBkYXRlU3RlcCh2YWx1ZSk7XG4gIH1cblxuICB1cGRhdGVQYW5lbE1pbih2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5wYW5lbD8udXBkYXRlTWluKHZhbHVlKTtcbiAgfVxuXG4gIHVwZGF0ZVBhbmVsTWF4KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnBhbmVsPy51cGRhdGVNYXgodmFsdWUpO1xuICB9XG5cbiAgc2V0TGVmdEZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmV2ZW50TWFuYWdlci5ub3RpZnkoJ3ZpZXdTZXRMZWZ0RnJvbU91dHNpZGUnLCB2YWx1ZSk7XG4gIH1cblxuICBzZXRSaWdodEZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmV2ZW50TWFuYWdlci5ub3RpZnkoJ3ZpZXdTZXRSaWdodEZyb21PdXRzaWRlJywgdmFsdWUpO1xuICB9XG5cbiAgc2V0TWluRnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgndmlld1NldE1pbicsIHZhbHVlKTtcbiAgfVxuXG4gIHNldE1heEZyb21PdXRzaWRlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmV2ZW50TWFuYWdlci5ub3RpZnkoJ3ZpZXdTZXRNYXgnLCB2YWx1ZSk7XG4gIH1cblxuICBzZXRTdGVwRnJvbU91dHNpZGUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgndmlld1NldFN0ZXAnLCB2YWx1ZSk7XG4gIH1cblxuICB0b2dnbGVPcmllbnRhdGlvbkZyb21PdXRzaWRlKCk6IHZvaWQge1xuICAgIHRoaXMudmVydGljYWwgPSAhdGhpcy52ZXJ0aWNhbDtcbiAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMudGh1bWJMZWZ0LnNldEluZGVudCgnbGVmdCcsIDApO1xuICAgICAgdGhpcy50aHVtYlJpZ2h0Py5zZXRJbmRlbnQoJ2xlZnQnLCAwKTtcbiAgICAgIHRoaXMucmFuZ2Uuc2V0SW5kZW50KCdsZWZ0JywgMCk7XG4gICAgICB0aGlzLnJhbmdlLnNldEluZGVudCgncmlnaHQnLCAwKTtcbiAgICAgIHRoaXMucmFuZ2UucmVzZXRUb3BJbmRlbnQoKTtcbiAgICAgIHRoaXMucmFuZ2UucmVzZXRXaWR0aCgpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdD8uc2V0SW5kZW50KCdsZWZ0JywgJ3Vuc2V0Jyk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxSaWdodD8uc2V0SW5kZW50KCdsZWZ0JywgJ3Vuc2V0Jyk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24/LnNldEluZGVudCgnbGVmdCcsICd1bnNldCcpO1xuICAgICAgaWYgKHRoaXMuaGFzTGFiZWxzKCkpIHRoaXMuZml4TGFiZWxzQ29udGFpbmVyV2lkdGhGb3JWZXJ0aWNhbCgpO1xuICAgICAgdGhpcy5zY2FsZT8uaGFuZGxlU3dpdGNoRnJvbUhvcml6b250YWxUb1ZlcnRpY2FsKCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZS1zbGlkZXJfdmVydGljYWwnKTtcbiAgICAgIHRoaXMudGh1bWJMZWZ0LnNldEluZGVudCgndG9wJywgMCk7XG4gICAgICB0aGlzLnRodW1iUmlnaHQ/LnNldEluZGVudCgndG9wJywgMCk7XG4gICAgICB0aGlzLnJhbmdlLnNldEluZGVudCgnYm90dG9tJywgMCk7XG4gICAgICB0aGlzLnJhbmdlLnNldEluZGVudCgndG9wJywgMCk7XG4gICAgICB0aGlzLnJhbmdlLnJlc2V0SGVpZ2h0KCk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0Py5zZXRJbmRlbnQoJ3RvcCcsICd1bnNldCcpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsUmlnaHQ/LnNldEluZGVudCgndG9wJywgJ3Vuc2V0Jyk7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24/LnNldEluZGVudCgndG9wJywgJ3Vuc2V0Jyk7XG4gICAgICBpZiAodGhpcy5oYXNMYWJlbHMoKSkgdGhpcy5maXhMYWJlbHNDb250YWluZXJIZWlnaHRGb3JIb3Jpem9udGFsKCk7XG4gICAgICB0aGlzLnNjYWxlPy5oYW5kbGVTd2l0Y2hGcm9tVmVydGljYWxUb0hvcml6b250YWwoKTtcbiAgICB9XG5cbiAgICB0aGlzLmV2ZW50TWFuYWdlci5ub3RpZnkoJ3ZpZXdUb2dnbGVPcmllbnRhdGlvbicpO1xuICB9XG5cbiAgdG9nZ2xlUmFuZ2VGcm9tT3V0c2lkZSgpOiB2b2lkIHtcbiAgICBjb25zdCBpc1JhbmdlID0gIXRoaXMuaXNSYW5nZSgpO1xuICAgIHRoaXMuZGVzdHJveSgpO1xuXG4gICAgaWYgKGlzUmFuZ2UpIHtcbiAgICAgIHRoaXMudGh1bWJSaWdodCA9IG5ldyBUaHVtYih0aGlzLCAncmlnaHQnKTtcblxuICAgICAgaWYgKHRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgICAgdGhpcy52YWx1ZUxhYmVsUmlnaHQgPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWwgcmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9yaWdodCcpO1xuICAgICAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24gPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWwgcmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9jb21tb24nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMucmFuZ2UucmVzZXRXaWR0aCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLnJhbmdlLnJlc2V0SGVpZ2h0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFpc1JhbmdlKSB7XG4gICAgICB0aGlzLnRodW1iUmlnaHQgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMucmFuZ2UucmVzZXRUb3BJbmRlbnQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlcigpO1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgndmlld1RvZ2dsZVJhbmdlJyk7XG4gIH1cblxuICB0b2dnbGVTY2FsZUZyb21PdXRzaWRlKCk6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgndmlld1RvZ2dsZVNjYWxlJyk7XG4gIH1cblxuICBzZXRTY2FsZUludGVydmFscyh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlIDw9IDApIHJldHVybjtcblxuICAgIHRoaXMuc2NhbGVJbnRlcnZhbHMgPSBNYXRoLmZsb29yKHZhbHVlKTtcbiAgICB0aGlzLnJlbW92ZVNjYWxlKCk7XG4gICAgdGhpcy5ldmVudE1hbmFnZXIubm90aWZ5KCd2aWV3U2V0U2NhbGVJbnRlcnZhbHMnKTtcbiAgfVxuXG4gIHRvZ2dsZVZhbHVlTGFiZWxzKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0KSB7XG4gICAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0LnJlbW92ZSgpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsUmlnaHQ/LnJlbW92ZSgpO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uPy5yZW1vdmUoKTtcblxuICAgICAgdGhpcy52YWx1ZUxhYmVsTGVmdCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAodGhpcy5taW5MYWJlbCkge1xuICAgICAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICB0aGlzLmZpeExhYmVsc0NvbnRhaW5lckhlaWdodEZvckhvcml6b250YWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgdGhpcy5maXhMYWJlbHNDb250YWluZXJXaWR0aEZvclZlcnRpY2FsKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLm1pbkxhYmVsKSB7XG4gICAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyPy5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgIHRoaXMudmFsdWVMYWJlbExlZnQgPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWwgcmFuZ2Utc2xpZGVyX192YWx1ZS1sYWJlbF9sZWZ0Jyk7XG5cbiAgICAgIGlmICghdGhpcy5sYWJlbHNDb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXIgPSBuZXcgTGFiZWxzQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuc2xpZGVyLmJlZm9yZSh0aGlzLmxhYmVsc0NvbnRhaW5lci5nZXRDb21wb25lbnQoKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyLmFwcGVuZCh0aGlzLnZhbHVlTGFiZWxMZWZ0LmdldENvbXBvbmVudCgpKTtcblxuICAgICAgaWYgKHRoaXMuaXNSYW5nZSgpKSB7XG4gICAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0ID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsIHJhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfcmlnaHQnKTtcbiAgICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uID0gbmV3IExhYmVsKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsIHJhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfY29tbW9uJyk7XG5cbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXJcbiAgICAgICAgICAuYXBwZW5kKHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5nZXRDb21wb25lbnQoKSwgdGhpcy52YWx1ZUxhYmVsQ29tbW9uPy5nZXRDb21wb25lbnQoKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgndmlld0FkZFZhbHVlTGFiZWxzJyk7XG5cbiAgICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLmZpeExhYmVsc0NvbnRhaW5lckhlaWdodEZvckhvcml6b250YWwoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgdGhpcy5maXhMYWJlbHNDb250YWluZXJXaWR0aEZvclZlcnRpY2FsKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlTWluTWF4TGFiZWxzKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm1pbkxhYmVsKSB7XG4gICAgICB0aGlzLm1pbkxhYmVsLnJlbW92ZSgpO1xuICAgICAgdGhpcy5tYXhMYWJlbD8ucmVtb3ZlKCk7XG5cbiAgICAgIHRoaXMubWluTGFiZWwgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLm1heExhYmVsID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAodGhpcy52YWx1ZUxhYmVsTGVmdCkge1xuICAgICAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICB0aGlzLmZpeExhYmVsc0NvbnRhaW5lckhlaWdodEZvckhvcml6b250YWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgdGhpcy5maXhMYWJlbHNDb250YWluZXJXaWR0aEZvclZlcnRpY2FsKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnZhbHVlTGFiZWxMZWZ0KSB7XG4gICAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyPy5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubWluTGFiZWwpIHtcbiAgICAgIHRoaXMubWluTGFiZWwgPSBuZXcgTGFiZWwoJ3JhbmdlLXNsaWRlcl9fbWluLW1heC1sYWJlbCByYW5nZS1zbGlkZXJfX21pbi1tYXgtbGFiZWxfbGVmdCcpO1xuICAgICAgdGhpcy5tYXhMYWJlbCA9IG5ldyBMYWJlbCgncmFuZ2Utc2xpZGVyX19taW4tbWF4LWxhYmVsIHJhbmdlLXNsaWRlcl9fbWluLW1heC1sYWJlbF9yaWdodCcpO1xuXG4gICAgICBpZiAoIXRoaXMubGFiZWxzQ29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyID0gbmV3IExhYmVsc0NvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLnNsaWRlci5iZWZvcmUodGhpcy5sYWJlbHNDb250YWluZXIuZ2V0Q29tcG9uZW50KCkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxhYmVsc0NvbnRhaW5lci5hcHBlbmQodGhpcy5taW5MYWJlbC5nZXRDb21wb25lbnQoKSwgdGhpcy5tYXhMYWJlbC5nZXRDb21wb25lbnQoKSk7XG5cbiAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm5vdGlmeSgndmlld0FkZE1pbk1heExhYmVscycpO1xuXG4gICAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgICAgdGhpcy5maXhMYWJlbHNDb250YWluZXJIZWlnaHRGb3JIb3Jpem9udGFsKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMuZml4TGFiZWxzQ29udGFpbmVyV2lkdGhGb3JWZXJ0aWNhbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhc0xhYmVscygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLnZhbHVlTGFiZWxMZWZ0IHx8IHRoaXMubWluTGFiZWwpO1xuICB9XG5cbiAgaGFzU2NhbGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5zY2FsZSk7XG4gIH1cblxuICBoYXNNaW5NYXhMYWJlbHMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5tYXhMYWJlbCk7XG4gIH1cblxuICBoYXNWYWx1ZUxhYmVscygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLnZhbHVlTGFiZWxMZWZ0KTtcbiAgfVxuXG4gIGhhc1BhbmVsKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMucGFuZWwpO1xuICB9XG5cbiAgaXNSYW5nZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLnRodW1iUmlnaHQpO1xuICB9XG5cbiAgaXNWZXJ0aWNhbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLnZlcnRpY2FsKTtcbiAgfVxuXG4gIGdldFRyYWNrV2lkdGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy50cmFjay5nZXRXaWR0aCgpO1xuICB9XG5cbiAgZ2V0VHJhY2tIZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy50cmFjay5nZXRIZWlnaHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyKCk6IHZvaWQge1xuICAgIGNvbnN0IGZyYWdtZW50ID0gbmV3IERvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgIHRoaXMudHJhY2suYXBwZW5kKHRoaXMucmFuZ2UuZ2V0Q29tcG9uZW50KCkpO1xuICAgIHRoaXMuc2xpZGVyLmFwcGVuZCh0aGlzLnRyYWNrLmdldENvbXBvbmVudCgpLCB0aGlzLnRodW1iTGVmdC5nZXRDb21wb25lbnQoKSk7XG4gICAgZnJhZ21lbnQuYXBwZW5kKHRoaXMuc2xpZGVyLCB0aGlzLmlucHV0LmdldENvbXBvbmVudCgpKTtcblxuICAgIGlmICh0aGlzLmlzUmFuZ2UoKSAmJiB0aGlzLnRodW1iUmlnaHQpIHtcbiAgICAgIHRoaXMuc2xpZGVyLmFwcGVuZCh0aGlzLnRodW1iUmlnaHQuZ2V0Q29tcG9uZW50KCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgICAgdGhpcy5yYW5nZS5zZXRJbmRlbnQoJ2xlZnQnLCAwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgdGhpcy5yYW5nZS5zZXRJbmRlbnQoJ2JvdHRvbScsIDApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm1pbkxhYmVsICYmIHRoaXMubWF4TGFiZWwpIHtcbiAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyPy5hcHBlbmQodGhpcy5taW5MYWJlbC5nZXRDb21wb25lbnQoKSwgdGhpcy5tYXhMYWJlbC5nZXRDb21wb25lbnQoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgIHRoaXMubGFiZWxzQ29udGFpbmVyPy5hcHBlbmQodGhpcy52YWx1ZUxhYmVsTGVmdC5nZXRDb21wb25lbnQoKSk7XG5cbiAgICAgIGlmICh0aGlzLmlzUmFuZ2UoKSkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZUxhYmVsUmlnaHQgJiYgdGhpcy52YWx1ZUxhYmVsQ29tbW9uKSB7XG4gICAgICAgICAgdGhpcy5sYWJlbHNDb250YWluZXI/LmFwcGVuZChcbiAgICAgICAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0LmdldENvbXBvbmVudCgpLFxuICAgICAgICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uLmdldENvbXBvbmVudCgpLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5sYWJlbHNDb250YWluZXIpIHtcbiAgICAgIHRoaXMuc2xpZGVyLmJlZm9yZSh0aGlzLmxhYmVsc0NvbnRhaW5lci5nZXRDb21wb25lbnQoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoJ3JhbmdlLXNsaWRlcl92ZXJ0aWNhbCcpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBhbmVsKSB7XG4gICAgICBjb25zdCBwYW5lbFdyYXBwZXIgPSBCYXNlRWxlbWVudC5jcmVhdGVDb21wb25lbnQoJ2RpdicsICdyYW5nZS1zbGlkZXJfX3BhbmVsJyk7XG4gICAgICBwYW5lbFdyYXBwZXIuYXBwZW5kKHRoaXMucGFuZWwuZ2V0Q29tcG9uZW50KCkpO1xuICAgICAgZnJhZ21lbnQuYXBwZW5kKHBhbmVsV3JhcHBlcik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2NhbGUpIHtcbiAgICAgIHRoaXMuc2xpZGVyLmFmdGVyKHRoaXMuc2NhbGUuZ2V0Q29tcG9uZW50KCkpO1xuICAgIH1cblxuICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZChmcmFnbWVudCk7XG4gIH1cblxuICBwcml2YXRlIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubGFiZWxzQ29udGFpbmVyKSB7XG4gICAgICBbLi4udGhpcy5sYWJlbHNDb250YWluZXIuZ2V0Q29tcG9uZW50KCkuY2hpbGRyZW5dLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIFsuLi50aGlzLnNsaWRlci5jaGlsZHJlbl0uZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgIFsuLi50aGlzLmNvbXBvbmVudC5jaGlsZHJlbl0uZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgbWVyZ2VMYWJlbHMoKTogdm9pZCB7XG4gICAgdGhpcy52YWx1ZUxhYmVsTGVmdD8uc2V0T3BhY2l0eSgwKTtcbiAgICB0aGlzLnZhbHVlTGFiZWxSaWdodD8uc2V0T3BhY2l0eSgwKTtcbiAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24/LnNldE9wYWNpdHkoMSk7XG5cbiAgICBpZiAoIXRoaXMudmVydGljYWwgJiYgdGhpcy50aHVtYlJpZ2h0KSB7XG4gICAgICBjb25zdCBkaXN0YW5jZUJldHdlZW5UaHVtYnMgPSAoXG4gICAgICAgIHBhcnNlSW50KHRoaXMudGh1bWJSaWdodC5nZXRMZWZ0SW5kZW50KCksIDEwKVxuICAgICAgICAtIHBhcnNlSW50KHRoaXMudGh1bWJMZWZ0LmdldExlZnRJbmRlbnQoKSwgMTApXG4gICAgICApO1xuXG4gICAgICBpZiAodGhpcy52YWx1ZUxhYmVsTGVmdCkge1xuICAgICAgICB0aGlzLnZhbHVlTGFiZWxDb21tb24/LnNldEluZGVudCgnbGVmdCcsIGAke3BhcnNlSW50KHRoaXMudmFsdWVMYWJlbExlZnQuZ2V0TGVmdEluZGVudCgpLCAxMCkgKyBkaXN0YW5jZUJldHdlZW5UaHVtYnMgLyAyfSVgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCAmJiB0aGlzLnRodW1iUmlnaHQpIHtcbiAgICAgIGNvbnN0IGRpc3RhbmNlQmV0d2VlblRodW1icyA9IChcbiAgICAgICAgcGFyc2VJbnQodGhpcy50aHVtYlJpZ2h0LmdldFRvcEluZGVudCgpLCAxMCkgLSBwYXJzZUludCh0aGlzLnRodW1iTGVmdC5nZXRUb3BJbmRlbnQoKSwgMTApXG4gICAgICApO1xuXG4gICAgICBpZiAodGhpcy52YWx1ZUxhYmVsUmlnaHQpIHtcbiAgICAgICAgdGhpcy52YWx1ZUxhYmVsQ29tbW9uPy5zZXRJbmRlbnQoJ3RvcCcsIGAke3BhcnNlSW50KHRoaXMudmFsdWVMYWJlbFJpZ2h0LmdldFRvcEluZGVudCgpLCAxMCkgLSBkaXN0YW5jZUJldHdlZW5UaHVtYnMgLyAyfSVgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNwbGl0TGFiZWxzKCk6IHZvaWQge1xuICAgIHRoaXMudmFsdWVMYWJlbENvbW1vbj8uc2V0T3BhY2l0eSgwKTtcbiAgICB0aGlzLnZhbHVlTGFiZWxMZWZ0Py5zZXRPcGFjaXR5KDEpO1xuICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5zZXRPcGFjaXR5KDEpO1xuICB9XG5cbiAgcHJpdmF0ZSBpc1R3b0xhYmVsc0Nsb3NlKGxhYmVsMTogTGFiZWwsIGxhYmVsMjogTGFiZWwpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgY29uc3QgYm90dG9tTGFiZWxFZGdlID0gbGFiZWwxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgIGNvbnN0IHRvcExhYmVsRWRnZSA9IGxhYmVsMi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XG5cbiAgICAgIHJldHVybiAoKGJvdHRvbUxhYmVsRWRnZSAtIHRvcExhYmVsRWRnZSkgPCAzKTtcbiAgICB9XG5cbiAgICBjb25zdCBsZWZ0TGFiZWxFZGdlID0gbGFiZWwxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0O1xuICAgIGNvbnN0IHJpZ2h0TGFiZWxFZGdlID0gbGFiZWwyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG5cbiAgICByZXR1cm4gKChyaWdodExhYmVsRWRnZSAtIGxlZnRMYWJlbEVkZ2UpIDwgMyk7XG4gIH1cblxuICBwcml2YXRlIGlzVHdvVmFsdWVMYWJlbHNDbG9zZSgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy52YWx1ZUxhYmVsTGVmdCAmJiB0aGlzLnZhbHVlTGFiZWxSaWdodCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNUd29MYWJlbHNDbG9zZSh0aGlzLnZhbHVlTGFiZWxMZWZ0LCB0aGlzLnZhbHVlTGFiZWxSaWdodCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0xlZnRWYWx1ZUxhYmVsQ2xvc2VUb01pbkxhYmVsKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLm1pbkxhYmVsICYmIHRoaXMudmFsdWVMYWJlbExlZnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVHdvTGFiZWxzQ2xvc2UodGhpcy5taW5MYWJlbCwgdGhpcy52YWx1ZUxhYmVsTGVmdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0xlZnRWYWx1ZUxhYmVsQ2xvc2VUb01heExhYmVsKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnZhbHVlTGFiZWxMZWZ0ICYmIHRoaXMubWF4TGFiZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVHdvTGFiZWxzQ2xvc2UodGhpcy52YWx1ZUxhYmVsTGVmdCwgdGhpcy5tYXhMYWJlbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBpc1JpZ2h0VmFsdWVMYWJlbENsb3NlVG9NYXhMYWJlbCgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy52YWx1ZUxhYmVsUmlnaHQgJiYgdGhpcy5tYXhMYWJlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNUd29MYWJlbHNDbG9zZSh0aGlzLnZhbHVlTGFiZWxSaWdodCwgdGhpcy5tYXhMYWJlbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSB3aGljaFRodW1iSXNOZWFyZXIoeDogbnVtYmVyLCB5OiBudW1iZXIpOiAnbGVmdCcgfCAncmlnaHQnIHtcbiAgICBjb25zdCBsZWZ0VGh1bWJDb29yZHMgPSB0aGlzLnRodW1iTGVmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCByaWdodFRodW1iQ29vcmRzID0gdGhpcy50aHVtYlJpZ2h0Py5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB0cmFja0Nvb3JkcyA9IHRoaXMudHJhY2suZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBsZXQgZGlzdGFuY2VGcm9tTGVmdFRodW1iQ2VudGVyOiBudW1iZXIgPSAwO1xuICAgIGxldCBkaXN0YW5jZUZyb21SaWdodFRodW1iQ2VudGVyOiBudW1iZXIgPSAwO1xuXG4gICAgaWYgKCF0aGlzLnZlcnRpY2FsICYmIHJpZ2h0VGh1bWJDb29yZHMpIHtcbiAgICAgIGNvbnN0IGxlZnRUaHVtYkNlbnRlciA9IGxlZnRUaHVtYkNvb3Jkcy5sZWZ0ICsgbGVmdFRodW1iQ29vcmRzLndpZHRoIC8gMiAtIHRyYWNrQ29vcmRzLmxlZnQ7XG4gICAgICBjb25zdCByaWdodFRodW1iQ2VudGVyID0gcmlnaHRUaHVtYkNvb3Jkcy5sZWZ0XG4gICAgICAgICsgcmlnaHRUaHVtYkNvb3Jkcy53aWR0aCAvIDJcbiAgICAgICAgLSB0cmFja0Nvb3Jkcy5sZWZ0O1xuXG4gICAgICBkaXN0YW5jZUZyb21MZWZ0VGh1bWJDZW50ZXIgPSBNYXRoLmFicyh4IC0gbGVmdFRodW1iQ2VudGVyKTtcbiAgICAgIGRpc3RhbmNlRnJvbVJpZ2h0VGh1bWJDZW50ZXIgPSBNYXRoLmFicyh4IC0gcmlnaHRUaHVtYkNlbnRlcik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmVydGljYWwgJiYgcmlnaHRUaHVtYkNvb3Jkcykge1xuICAgICAgY29uc3QgbGVmdFRodW1iQ2VudGVyID0gbGVmdFRodW1iQ29vcmRzLnRvcCArIGxlZnRUaHVtYkNvb3Jkcy5oZWlnaHQgLyAyIC0gdHJhY2tDb29yZHMudG9wO1xuICAgICAgY29uc3QgcmlnaHRUaHVtYkNlbnRlciA9IHJpZ2h0VGh1bWJDb29yZHMudG9wICsgcmlnaHRUaHVtYkNvb3Jkcy5oZWlnaHQgLyAyIC0gdHJhY2tDb29yZHMudG9wO1xuXG4gICAgICBkaXN0YW5jZUZyb21MZWZ0VGh1bWJDZW50ZXIgPSBNYXRoLmFicyh5IC0gbGVmdFRodW1iQ2VudGVyKTtcbiAgICAgIGRpc3RhbmNlRnJvbVJpZ2h0VGh1bWJDZW50ZXIgPSBNYXRoLmFicyh5IC0gcmlnaHRUaHVtYkNlbnRlcik7XG4gICAgfVxuXG4gICAgaWYgKGRpc3RhbmNlRnJvbUxlZnRUaHVtYkNlbnRlciA8PSBkaXN0YW5jZUZyb21SaWdodFRodW1iQ2VudGVyKSB7XG4gICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIH1cblxuICAgIHJldHVybiAncmlnaHQnO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRTbW9vdGhUcmFuc2l0aW9uKHNpZGU6ICdsZWZ0JyB8ICdyaWdodCcgPSAnbGVmdCcpOiB2b2lkIHtcbiAgICBpZiAoc2lkZSA9PT0gJ2xlZnQnKSB7XG4gICAgICB0aGlzLnRodW1iTGVmdC5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QuYWRkKCdyYW5nZS1zbGlkZXJfX3RodW1iX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgICB0aGlzLnJhbmdlLmdldENvbXBvbmVudCgpLmNsYXNzTGlzdC5hZGQoJ3JhbmdlLXNsaWRlcl9fcmFuZ2Vfc21vb3RoLXRyYW5zaXRpb24nKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbExlZnQ/LmdldENvbXBvbmVudCgpLmNsYXNzTGlzdC5hZGQoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfc21vb3RoLXRyYW5zaXRpb24nKTtcbiAgICB9XG5cbiAgICBpZiAoc2lkZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgdGhpcy50aHVtYlJpZ2h0Py5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QuYWRkKCdyYW5nZS1zbGlkZXJfX3RodW1iX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgICB0aGlzLnJhbmdlLmdldENvbXBvbmVudCgpLmNsYXNzTGlzdC5hZGQoJ3JhbmdlLXNsaWRlcl9fcmFuZ2Vfc21vb3RoLXRyYW5zaXRpb24nKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QuYWRkKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVTbW9vdGhUcmFuc2l0aW9uKHNpZGU6ICdsZWZ0JyB8ICdyaWdodCcgPSAnbGVmdCcpOiB2b2lkIHtcbiAgICBpZiAoc2lkZSA9PT0gJ2xlZnQnKSB7XG4gICAgICB0aGlzLnRodW1iTGVmdC5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZS1zbGlkZXJfX3RodW1iX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgICB0aGlzLnJhbmdlLmdldENvbXBvbmVudCgpLmNsYXNzTGlzdC5yZW1vdmUoJ3JhbmdlLXNsaWRlcl9fcmFuZ2Vfc21vb3RoLXRyYW5zaXRpb24nKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbExlZnQ/LmdldENvbXBvbmVudCgpLmNsYXNzTGlzdC5yZW1vdmUoJ3JhbmdlLXNsaWRlcl9fdmFsdWUtbGFiZWxfc21vb3RoLXRyYW5zaXRpb24nKTtcbiAgICB9XG5cbiAgICBpZiAoc2lkZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgdGhpcy50aHVtYlJpZ2h0Py5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZS1zbGlkZXJfX3RodW1iX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgICB0aGlzLnJhbmdlLmdldENvbXBvbmVudCgpLmNsYXNzTGlzdC5yZW1vdmUoJ3JhbmdlLXNsaWRlcl9fcmFuZ2Vfc21vb3RoLXRyYW5zaXRpb24nKTtcbiAgICAgIHRoaXMudmFsdWVMYWJlbFJpZ2h0Py5nZXRDb21wb25lbnQoKS5jbGFzc0xpc3QucmVtb3ZlKCdyYW5nZS1zbGlkZXJfX3ZhbHVlLWxhYmVsX3Ntb290aC10cmFuc2l0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb2xsZWN0TGFiZWxzKCk6IEhUTUxFbGVtZW50W10ge1xuICAgIGNvbnN0IGxhYmVsczogSFRNTEVsZW1lbnRbXSA9IFtdO1xuXG4gICAgaWYgKHRoaXMubWluTGFiZWwgJiYgdGhpcy5tYXhMYWJlbCkge1xuICAgICAgbGFiZWxzLnB1c2godGhpcy5taW5MYWJlbC5nZXRDb21wb25lbnQoKSk7XG4gICAgICBsYWJlbHMucHVzaCh0aGlzLm1heExhYmVsLmdldENvbXBvbmVudCgpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52YWx1ZUxhYmVsTGVmdCkge1xuICAgICAgbGFiZWxzLnB1c2godGhpcy52YWx1ZUxhYmVsTGVmdC5nZXRDb21wb25lbnQoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmFsdWVMYWJlbFJpZ2h0KSB7XG4gICAgICBsYWJlbHMucHVzaCh0aGlzLnZhbHVlTGFiZWxSaWdodC5nZXRDb21wb25lbnQoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhYmVscztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3O1xuIiwiaW1wb3J0IE1vZGVsIGZyb20gJy4uL01vZGVsL01vZGVsJztcbmltcG9ydCBWaWV3IGZyb20gJy4uL1ZpZXcvVmlldyc7XG5pbXBvcnQgeyBJRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uL0V2ZW50TWFuYWdlci9FdmVudE1hbmFnZXInO1xuXG5jbGFzcyBQcmVzZW50ZXIgaW1wbGVtZW50cyBJRXZlbnRMaXN0ZW5lciB7XG4gIHByaXZhdGUgbW9kZWw6IE1vZGVsO1xuXG4gIHByaXZhdGUgdmlldzogVmlldztcblxuICBjb25zdHJ1Y3Rvcihtb2RlbDogTW9kZWwsIHZpZXc6IFZpZXcpIHtcbiAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgdGhpcy52aWV3ID0gdmlldztcblxuICAgIHRoaXMuaW5pdFZpZXdWYWx1ZXMoKTtcbiAgICB0aGlzLm1vZGVsLnN1YnNjcmliZSh0aGlzKTtcbiAgICB0aGlzLnZpZXcuc3Vic2NyaWJlKHRoaXMpO1xuICB9XG5cbiAgaW5mb3JtKGV2ZW50VHlwZTogc3RyaW5nLCBkYXRhOiBudW1iZXIgfCBudWxsID0gbnVsbCk6IHZvaWQge1xuICAgIHN3aXRjaCAoZXZlbnRUeXBlKSB7XG4gICAgICBjYXNlICd2aWV3SW5wdXRMZWZ0JzpcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuaGFuZGxlVmlld0lucHV0TGVmdChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdJbnB1dFJpZ2h0JzpcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuaGFuZGxlVmlld0lucHV0UmlnaHQoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3U2V0TGVmdEZyb21PdXRzaWRlJzpcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuaGFuZGxlVmlld1NldExlZnRGcm9tT3V0c2lkZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdTZXRSaWdodEZyb21PdXRzaWRlJzpcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuaGFuZGxlVmlld1NldFJpZ2h0RnJvbU91dHNpZGUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3U2V0TWluJzpcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuaGFuZGxlVmlld1NldE1pbihkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdTZXRNYXgnOlxuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVWaWV3U2V0TWF4KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld1NldFN0ZXAnOlxuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVWaWV3U2V0U3RlcChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdUb2dnbGVPcmllbnRhdGlvbic6XG4gICAgICAgIHRoaXMuaGFuZGxlVmlld1RvZ2dsZU9yaWVudGF0aW9uKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld1RvZ2dsZVJhbmdlJzpcbiAgICAgICAgdGhpcy5oYW5kbGVWaWV3VG9nZ2xlUmFuZ2UoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3VG9nZ2xlU2NhbGUnOlxuICAgICAgICB0aGlzLmhhbmRsZVZpZXdUb2dnbGVTY2FsZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZpZXdTZXRTY2FsZUludGVydmFscyc6XG4gICAgICAgIHRoaXMuaGFuZGxlVmlld1NldFNjYWxlSW50ZXJ2YWxzKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlld0FkZFZhbHVlTGFiZWxzJzpcbiAgICAgICAgdGhpcy5oYW5kbGVWaWV3QWRkVmFsdWVMYWJlbHMoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aWV3QWRkTWluTWF4TGFiZWxzJzpcbiAgICAgICAgdGhpcy5oYW5kbGVWaWV3QWRkTWluTWF4TGFiZWxzKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdtb2RlbFNldExlZnQnOlxuICAgICAgICB0aGlzLmhhbmRsZU1vZGVsU2V0TGVmdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21vZGVsU2V0UmlnaHQnOlxuICAgICAgICB0aGlzLmhhbmRsZU1vZGVsU2V0UmlnaHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtb2RlbFNldE1pbic6XG4gICAgICAgIHRoaXMuaGFuZGxlTW9kZWxTZXRNaW4oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtb2RlbFNldE1heCc6XG4gICAgICAgIHRoaXMuaGFuZGxlTW9kZWxTZXRNYXgoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtb2RlbFRvZ2dsZVJhbmdlJzpcbiAgICAgICAgdGhpcy5oYW5kbGVNb2RlbFRvZ2dsZVJhbmdlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbW9kZWxTZXRTdGVwJzpcbiAgICAgICAgdGhpcy5oYW5kbGVNb2RlbFNldFN0ZXAoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHJlbW92ZUNhbGNJbmFjY3VyYWN5KHZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBOdW1iZXIodmFsdWUudG9GaXhlZCgxMCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0Vmlld1ZhbHVlcygpOiB2b2lkIHtcbiAgICBjb25zdCB7IG1vZGVsIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgdmlldyB9ID0gdGhpcztcblxuICAgIGNvbnN0IG1pbiA9IG1vZGVsLmdldE1pbigpO1xuICAgIGNvbnN0IG1heCA9IG1vZGVsLmdldE1heCgpO1xuICAgIGNvbnN0IGxlZnRWYWx1ZSA9IG1vZGVsLmdldExlZnRWYWx1ZSgpO1xuICAgIGNvbnN0IHJpZ2h0VmFsdWUgPSBtb2RlbC5nZXRSaWdodFZhbHVlKCk7XG5cbiAgICB2aWV3LnNldE1pblZhbHVlKG1pbik7XG4gICAgdmlldy5zZXRNYXhWYWx1ZShtYXgpO1xuICAgIHRoaXMucGFzc0xlZnRWYWx1ZVRvVmlldyhsZWZ0VmFsdWUpO1xuXG4gICAgaWYgKHZpZXcuaXNSYW5nZSgpICYmIChyaWdodFZhbHVlICE9PSB1bmRlZmluZWQpKSB7XG4gICAgICB0aGlzLnBhc3NSaWdodFZhbHVlVG9WaWV3KHJpZ2h0VmFsdWUpO1xuICAgICAgdmlldy51cGRhdGVJbnB1dChsZWZ0VmFsdWUsIHJpZ2h0VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2aWV3LnVwZGF0ZUlucHV0KGxlZnRWYWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHZpZXcuaGFzU2NhbGUoKSkge1xuICAgICAgLy8gZmlyc3QgcmVtb3ZlIHNjYWxlIHdpdGggYXJiaXRyYXJ5IHZhbHVlcywgd2hpY2ggd2FzIGFkZGVkIGFzIGEgcGx1Z1xuICAgICAgdmlldy5yZW1vdmVTY2FsZSgpO1xuICAgICAgdmlldy5hZGRTY2FsZShtaW4sIG1heCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmlldy5oYXNMYWJlbHMoKSkge1xuICAgICAgaWYgKCF2aWV3LmlzVmVydGljYWwoKSkge1xuICAgICAgICB2aWV3LmZpeExhYmVsc0NvbnRhaW5lckhlaWdodEZvckhvcml6b250YWwoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZpZXcuaXNWZXJ0aWNhbCgpKSB7XG4gICAgICAgIHZpZXcuZml4TGFiZWxzQ29udGFpbmVyV2lkdGhGb3JWZXJ0aWNhbCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh2aWV3Lmhhc1BhbmVsKCkpIHtcbiAgICAgIHZpZXcuc2V0UGFuZWxWYWx1ZXMoe1xuICAgICAgICBtaW4sXG4gICAgICAgIG1heCxcbiAgICAgICAgc3RlcDogbW9kZWwuZ2V0U3RlcCgpLFxuICAgICAgICBmcm9tOiBsZWZ0VmFsdWUsXG4gICAgICAgIHRvOiByaWdodFZhbHVlID8/IG51bGwsXG4gICAgICAgIHZlcnRpY2FsOiB2aWV3LmlzVmVydGljYWwoKSA/PyBmYWxzZSxcbiAgICAgICAgcmFuZ2U6IHZpZXcuaXNSYW5nZSgpLFxuICAgICAgICBzY2FsZTogdmlldy5oYXNTY2FsZSgpLFxuICAgICAgICBzY2FsZUludGVydmFsczogdmlldy5nZXRTY2FsZUludGVydmFscygpLFxuICAgICAgICB2YWx1ZUxhYmVsczogdmlldy5oYXNWYWx1ZUxhYmVscygpLFxuICAgICAgICBtaW5NYXhMYWJlbHM6IHZpZXcuaGFzTWluTWF4TGFiZWxzKCksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdJbnB1dExlZnQocHg6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5jb252ZXJ0UHhUb1ZhbHVlKHB4KTtcbiAgICB0aGlzLm1vZGVsLnNldExlZnRWYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1vZGVsU2V0TGVmdCgpOiB2b2lkIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMubW9kZWwuZ2V0TGVmdFZhbHVlKCk7XG4gICAgdGhpcy5wYXNzTGVmdFZhbHVlVG9WaWV3KHZhbHVlKTtcbiAgICB0aGlzLnVwZGF0ZVZpZXdJbnB1dCgpO1xuXG4gICAgaWYgKHRoaXMudmlldy5oYXNQYW5lbCgpKSB7XG4gICAgICB0aGlzLnZpZXcudXBkYXRlUGFuZWxGcm9tKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdJbnB1dFJpZ2h0KHB4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuY29udmVydFB4VG9WYWx1ZShweCk7XG4gICAgdGhpcy5tb2RlbC5zZXRSaWdodFZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTW9kZWxTZXRSaWdodCgpOiB2b2lkIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMubW9kZWwuZ2V0UmlnaHRWYWx1ZSgpITtcbiAgICB0aGlzLnBhc3NSaWdodFZhbHVlVG9WaWV3KHZhbHVlKTtcbiAgICB0aGlzLnVwZGF0ZVZpZXdJbnB1dCgpO1xuXG4gICAgaWYgKHRoaXMudmlldy5oYXNQYW5lbCgpKSB7XG4gICAgICB0aGlzLnZpZXcudXBkYXRlUGFuZWxUbyh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBwYXNzTGVmdFZhbHVlVG9WaWV3KHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBwZXJjZW50ID0gdGhpcy5jb252ZXJ0VmFsdWVUb1BlcmNlbnQodmFsdWUpO1xuICAgIHRoaXMudmlldy5zZXRMZWZ0VmFsdWUodmFsdWUsIHBlcmNlbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBwYXNzUmlnaHRWYWx1ZVRvVmlldyh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgcGVyY2VudCA9IHRoaXMuY29udmVydFZhbHVlVG9QZXJjZW50KHZhbHVlKTtcbiAgICB0aGlzLnZpZXcuc2V0UmlnaHRWYWx1ZSh2YWx1ZSwgcGVyY2VudCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVZpZXdJbnB1dCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudmlldy5pc1JhbmdlKCkpIHtcbiAgICAgIHRoaXMudmlldy51cGRhdGVJbnB1dCh0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3LmlzUmFuZ2UoKSkge1xuICAgICAgdGhpcy52aWV3LnVwZGF0ZUlucHV0KHRoaXMubW9kZWwuZ2V0TGVmdFZhbHVlKCksIHRoaXMubW9kZWwuZ2V0UmlnaHRWYWx1ZSgpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnZlcnRWYWx1ZVRvUGVyY2VudCh2YWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBtaW4gPSB0aGlzLm1vZGVsLmdldE1pbigpO1xuICAgIGNvbnN0IG1heCA9IHRoaXMubW9kZWwuZ2V0TWF4KCk7XG4gICAgbGV0IHBlcmNlbnQgPSAoKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pKSAqIDEwMDtcbiAgICBwZXJjZW50ID0gUHJlc2VudGVyLnJlbW92ZUNhbGNJbmFjY3VyYWN5KHBlcmNlbnQpO1xuXG4gICAgcmV0dXJuIHBlcmNlbnQ7XG4gIH1cblxuICBwcml2YXRlIGNvbnZlcnRQeFRvVmFsdWUocHg6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IHBlcmNlbnQgPSAwO1xuXG4gICAgaWYgKCF0aGlzLnZpZXcuaXNWZXJ0aWNhbCgpKSB7XG4gICAgICBjb25zdCB0cmFja1dpZHRoSW5QeCA9IHRoaXMudmlldy5nZXRUcmFja1dpZHRoKCk7XG4gICAgICBwZXJjZW50ID0gKHB4ICogMTAwKSAvIHRyYWNrV2lkdGhJblB4O1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaXNWZXJ0aWNhbCgpKSB7XG4gICAgICBjb25zdCB0cmFja0hlaWdodEluUHggPSB0aGlzLnZpZXcuZ2V0VHJhY2tIZWlnaHQoKTtcbiAgICAgIHBlcmNlbnQgPSAocHggKiAxMDApIC8gdHJhY2tIZWlnaHRJblB4O1xuICAgIH1cblxuICAgIGNvbnN0IG1pbiA9IHRoaXMubW9kZWwuZ2V0TWluKCk7XG4gICAgY29uc3QgbWF4ID0gdGhpcy5tb2RlbC5nZXRNYXgoKTtcbiAgICBsZXQgdmFsdWUgPSAoKG1heCAtIG1pbikgKiAocGVyY2VudCAvIDEwMCkgKyBtaW4pO1xuICAgIHZhbHVlID0gdGhpcy5maXRUb1N0ZXAodmFsdWUpO1xuICAgIHZhbHVlID0gUHJlc2VudGVyLnJlbW92ZUNhbGNJbmFjY3VyYWN5KHZhbHVlKTtcblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgZml0VG9TdGVwKHZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCByZXN1bHQgPSBNYXRoLnJvdW5kKHZhbHVlIC8gdGhpcy5tb2RlbC5nZXRTdGVwKCkpICogdGhpcy5tb2RlbC5nZXRTdGVwKCk7XG4gICAgcmVzdWx0ID0gUHJlc2VudGVyLnJlbW92ZUNhbGNJbmFjY3VyYWN5KHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld1NldExlZnRGcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5tb2RlbC5zZXRMZWZ0VmFsdWUodmFsdWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3U2V0UmlnaHRGcm9tT3V0c2lkZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5tb2RlbC5zZXRSaWdodFZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld1NldE1pbih2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5tb2RlbC5zZXRNaW4odmFsdWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNb2RlbFNldE1pbigpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXcuc2V0TWluVmFsdWUodGhpcy5tb2RlbC5nZXRNaW4oKSk7XG4gICAgdGhpcy5wYXNzTGVmdFZhbHVlVG9WaWV3KHRoaXMubW9kZWwuZ2V0TGVmdFZhbHVlKCkpO1xuXG4gICAgY29uc3QgcmlnaHRWYWx1ZSA9IHRoaXMubW9kZWwuZ2V0UmlnaHRWYWx1ZSgpO1xuICAgIGlmIChyaWdodFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMucGFzc1JpZ2h0VmFsdWVUb1ZpZXcocmlnaHRWYWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmlldy5oYXNTY2FsZSgpKSB7XG4gICAgICB0aGlzLnZpZXcucmVtb3ZlU2NhbGUoKTtcbiAgICAgIHRoaXMudmlldy5hZGRTY2FsZSh0aGlzLm1vZGVsLmdldE1pbigpLCB0aGlzLm1vZGVsLmdldE1heCgpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aWV3Lmhhc1BhbmVsKCkpIHtcbiAgICAgIHRoaXMudmlldy51cGRhdGVQYW5lbE1pbih0aGlzLm1vZGVsLmdldE1pbigpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdTZXRNYXgodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubW9kZWwuc2V0TWF4KHZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTW9kZWxTZXRNYXgoKTogdm9pZCB7XG4gICAgdGhpcy52aWV3LnNldE1heFZhbHVlKHRoaXMubW9kZWwuZ2V0TWF4KCkpO1xuICAgIHRoaXMucGFzc0xlZnRWYWx1ZVRvVmlldyh0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpKTtcblxuICAgIGNvbnN0IHJpZ2h0VmFsdWUgPSB0aGlzLm1vZGVsLmdldFJpZ2h0VmFsdWUoKTtcbiAgICBpZiAocmlnaHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnBhc3NSaWdodFZhbHVlVG9WaWV3KHJpZ2h0VmFsdWUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaGFzU2NhbGUoKSkge1xuICAgICAgdGhpcy52aWV3LnJlbW92ZVNjYWxlKCk7XG4gICAgICB0aGlzLnZpZXcuYWRkU2NhbGUodGhpcy5tb2RlbC5nZXRNaW4oKSwgdGhpcy5tb2RlbC5nZXRNYXgoKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmlldy5oYXNQYW5lbCgpKSB7XG4gICAgICB0aGlzLnZpZXcudXBkYXRlUGFuZWxNYXgodGhpcy5tb2RlbC5nZXRNYXgoKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3U2V0U3RlcCh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5tb2RlbC5zZXRTdGVwKHZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld1RvZ2dsZU9yaWVudGF0aW9uKCk6IHZvaWQge1xuICAgIHRoaXMucGFzc0xlZnRWYWx1ZVRvVmlldyh0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpKTtcblxuICAgIGlmICh0aGlzLnZpZXcuaXNSYW5nZSgpKSB7XG4gICAgICBjb25zdCByaWdodFZhbHVlID0gdGhpcy5tb2RlbC5nZXRSaWdodFZhbHVlKCk7XG4gICAgICBpZiAocmlnaHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMucGFzc1JpZ2h0VmFsdWVUb1ZpZXcocmlnaHRWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3VG9nZ2xlUmFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy5tb2RlbC50b2dnbGVSYW5nZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNb2RlbFRvZ2dsZVJhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMucGFzc0xlZnRWYWx1ZVRvVmlldyh0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpKTtcblxuICAgIGlmICh0aGlzLm1vZGVsLmlzUmFuZ2UoKSkge1xuICAgICAgdGhpcy5tb2RlbC5zZXRSaWdodFZhbHVlKCk7XG4gICAgICBjb25zdCByaWdodFZhbHVlID0gdGhpcy5tb2RlbC5nZXRSaWdodFZhbHVlKCk7XG4gICAgICBpZiAocmlnaHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMucGFzc1JpZ2h0VmFsdWVUb1ZpZXcocmlnaHRWYWx1ZSk7XG4gICAgICAgIHRoaXMudmlldy51cGRhdGVJbnB1dCh0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpLCByaWdodFZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMudmlldy5oYXNQYW5lbCgpKSB7XG4gICAgICAgICAgdGhpcy52aWV3LnVwZGF0ZVBhbmVsVG8ocmlnaHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubW9kZWwuaXNSYW5nZSgpKSB7XG4gICAgICB0aGlzLm1vZGVsLnJlbW92ZVJpZ2h0VmFsdWUoKTtcbiAgICAgIHRoaXMudmlldy51cGRhdGVJbnB1dCh0aGlzLm1vZGVsLmdldExlZnRWYWx1ZSgpKTtcbiAgICAgIGlmICh0aGlzLnZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgICB0aGlzLnZpZXcudXBkYXRlUGFuZWxUbygnJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNb2RlbFNldFN0ZXAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmlldy5oYXNQYW5lbCgpKSB7XG4gICAgICB0aGlzLnZpZXcudXBkYXRlUGFuZWxTdGVwKHRoaXMubW9kZWwuZ2V0U3RlcCgpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVZpZXdUb2dnbGVTY2FsZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudmlldy5oYXNTY2FsZSgpKSB7XG4gICAgICB0aGlzLnZpZXcuYWRkU2NhbGUodGhpcy5tb2RlbC5nZXRNaW4oKSwgdGhpcy5tb2RlbC5nZXRNYXgoKSk7XG5cbiAgICAgIGlmICh0aGlzLnZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgICB0aGlzLnZpZXcudXBkYXRlUGFuZWxTY2FsZUludGVydmFscyh0aGlzLnZpZXcuZ2V0U2NhbGVJbnRlcnZhbHMoKSA/PyA0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpZXcuaGFzU2NhbGUoKSkge1xuICAgICAgdGhpcy52aWV3LnJlbW92ZVNjYWxlKCk7XG5cbiAgICAgIGlmICh0aGlzLnZpZXcuaGFzUGFuZWwoKSkge1xuICAgICAgICB0aGlzLnZpZXcudXBkYXRlUGFuZWxTY2FsZUludGVydmFscygnJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3U2V0U2NhbGVJbnRlcnZhbHMoKTogdm9pZCB7XG4gICAgdGhpcy52aWV3LmFkZFNjYWxlKHRoaXMubW9kZWwuZ2V0TWluKCksIHRoaXMubW9kZWwuZ2V0TWF4KCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3QWRkVmFsdWVMYWJlbHMoKTogdm9pZCB7XG4gICAgdGhpcy5wYXNzTGVmdFZhbHVlVG9WaWV3KHRoaXMubW9kZWwuZ2V0TGVmdFZhbHVlKCkpO1xuICAgIGlmICh0aGlzLnZpZXcuaXNSYW5nZSgpKSB7XG4gICAgICBjb25zdCByaWdodFZhbHVlID0gdGhpcy5tb2RlbC5nZXRSaWdodFZhbHVlKCk7XG4gICAgICBpZiAocmlnaHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMucGFzc1JpZ2h0VmFsdWVUb1ZpZXcocmlnaHRWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVWaWV3QWRkTWluTWF4TGFiZWxzKCk6IHZvaWQge1xuICAgIHRoaXMudmlldy5zZXRNaW5WYWx1ZSh0aGlzLm1vZGVsLmdldE1pbigpKTtcbiAgICB0aGlzLnZpZXcuc2V0TWF4VmFsdWUodGhpcy5tb2RlbC5nZXRNYXgoKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJlc2VudGVyO1xuIiwiaW1wb3J0IE1vZGVsIGZyb20gJy4uL01vZGVsL01vZGVsJztcbmltcG9ydCBWaWV3IGZyb20gJy4uL1ZpZXcvVmlldyc7XG5pbXBvcnQgUHJlc2VudGVyIGZyb20gJy4uL1ByZXNlbnRlci9QcmVzZW50ZXInO1xuXG50eXBlIFNsaWRlck9wdGlvbnMgPSB7XG4gIG1pbjogbnVtYmVyLFxuICBtYXg6IG51bWJlcixcbiAgbGVmdFZhbHVlOiBudW1iZXIsXG4gIHJpZ2h0VmFsdWU6IG51bWJlcixcbiAgcmFuZ2U6IGJvb2xlYW4sXG4gIHN0ZXA6IG51bWJlcixcbiAgbWluTWF4TGFiZWxzOiBib29sZWFuLFxuICB2YWx1ZUxhYmVsczogYm9vbGVhbixcbiAgdmVydGljYWw6IGJvb2xlYW4sXG4gIHNjYWxlOiBib29sZWFuLFxuICBzY2FsZUludGVydmFsczogbnVtYmVyLFxuICBwYW5lbDogYm9vbGVhbixcbn07XG5cbmNsYXNzIFNsaWRlciB7XG4gIHByaXZhdGUgbW9kZWw6IE1vZGVsO1xuXG4gIHByaXZhdGUgdmlldzogVmlldztcblxuICBwcml2YXRlIHByZXNlbnRlcjogUHJlc2VudGVyO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50LCBvcHRpb25zOiBTbGlkZXJPcHRpb25zKSB7XG4gICAgdGhpcy5tb2RlbCA9IG5ldyBNb2RlbCh7XG4gICAgICBtaW46IG9wdGlvbnMubWluLFxuICAgICAgbWF4OiBvcHRpb25zLm1heCxcbiAgICAgIGxlZnRWYWx1ZTogb3B0aW9ucy5sZWZ0VmFsdWUsXG4gICAgICByaWdodFZhbHVlOiBvcHRpb25zLnJpZ2h0VmFsdWUsXG4gICAgICByYW5nZTogb3B0aW9ucy5yYW5nZSxcbiAgICAgIHN0ZXA6IG9wdGlvbnMuc3RlcCxcbiAgICB9KTtcbiAgICB0aGlzLnZpZXcgPSBuZXcgVmlldyhlbGVtZW50LCB7XG4gICAgICBtaW5NYXhMYWJlbHM6IG9wdGlvbnMubWluTWF4TGFiZWxzLFxuICAgICAgdmFsdWVMYWJlbHM6IG9wdGlvbnMudmFsdWVMYWJlbHMsXG4gICAgICB2ZXJ0aWNhbDogb3B0aW9ucy52ZXJ0aWNhbCxcbiAgICAgIHJhbmdlOiBvcHRpb25zLnJhbmdlLFxuICAgICAgc2NhbGU6IG9wdGlvbnMuc2NhbGUsXG4gICAgICBzY2FsZUludGVydmFsczogb3B0aW9ucy5zY2FsZUludGVydmFscyxcbiAgICAgIHBhbmVsOiBvcHRpb25zLnBhbmVsLFxuICAgIH0pO1xuICAgIHRoaXMucHJlc2VudGVyID0gbmV3IFByZXNlbnRlcih0aGlzLm1vZGVsLCB0aGlzLnZpZXcpO1xuXG4gICAgdGhpcy5tb2RlbC5zdWJzY3JpYmUodGhpcyk7XG4gIH1cblxuICBpbmZvcm0oZXZlbnRUeXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKGV2ZW50VHlwZSkge1xuICAgICAgY2FzZSAnbW9kZWxMZWZ0U2V0JzpcbiAgICAgICAgaWYgKHRoaXMub25DaGFuZ2UpIHtcbiAgICAgICAgICB0aGlzLm9uQ2hhbmdlKHRoaXMubW9kZWwuZ2V0TGVmdFZhbHVlKCksIHRoaXMubW9kZWwuZ2V0UmlnaHRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21vZGVsUmlnaHRTZXQnOlxuICAgICAgICBpZiAodGhpcy5vbkNoYW5nZSkge1xuICAgICAgICAgIHRoaXMub25DaGFuZ2UodGhpcy5tb2RlbC5nZXRMZWZ0VmFsdWUoKSwgdGhpcy5tb2RlbC5nZXRSaWdodFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBzZXRMZWZ0VmFsdWUodmFsdWU6IG51bWJlcik6IHRoaXMge1xuICAgIHRoaXMucHJlc2VudGVyLmluZm9ybSgndmlld1NldExlZnRGcm9tT3V0c2lkZScsIHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNldFJpZ2h0VmFsdWUodmFsdWU6IG51bWJlcik6IHRoaXMge1xuICAgIHRoaXMucHJlc2VudGVyLmluZm9ybSgndmlld1NldFJpZ2h0RnJvbU91dHNpZGUnLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXRTdGVwKHZhbHVlOiBudW1iZXIpOiB0aGlzIHtcbiAgICB0aGlzLnByZXNlbnRlci5pbmZvcm0oJ3ZpZXdTZXRTdGVwJywgdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgb25DaGFuZ2U/OiAobGVmdFZhbHVlOiBudW1iZXIsIHJpZ2h0VmFsdWU6IG51bWJlciB8IHVuZGVmaW5lZCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IHsgU2xpZGVyLCBTbGlkZXJPcHRpb25zIH07XG4iLCJpbXBvcnQgJ2FpcmJuYi1icm93c2VyLXNoaW1zJztcblxuaW1wb3J0IHsgU2xpZGVyLCBTbGlkZXJPcHRpb25zIH0gZnJvbSAnLi9TbGlkZXIvU2xpZGVyJztcbmltcG9ydCAnLi9zdHlsZS5zY3NzJztcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSlF1ZXJ5IHtcbiAgICByYW5nZVNsaWRlcjogSVJhbmdlU2xpZGVyO1xuICB9XG5cbiAgaW50ZXJmYWNlIElSYW5nZVNsaWRlciB7XG4gICAgKG9wdGlvbnM/OiBvYmplY3QpOiBKUXVlcnk8SFRNTEVsZW1lbnQ+O1xuICB9XG59XG5cbihmdW5jdGlvbiBXcmFwcGVyKGpRKSB7XG4gIGNvbnN0ICQgPSBqUTtcblxuICBjb25zdCBkZWZhdWx0czogUmVhZG9ubHk8U2xpZGVyT3B0aW9ucz4gPSB7XG4gICAgbWluOiAwLFxuICAgIG1heDogMTAwLFxuICAgIHJhbmdlOiB0cnVlLFxuICAgIGxlZnRWYWx1ZTogMjUsXG4gICAgcmlnaHRWYWx1ZTogNzUsXG4gICAgc3RlcDogMSxcbiAgICBtaW5NYXhMYWJlbHM6IHRydWUsXG4gICAgdmFsdWVMYWJlbHM6IHRydWUsXG4gICAgdmVydGljYWw6IGZhbHNlLFxuICAgIHNjYWxlOiBmYWxzZSxcbiAgICBzY2FsZUludGVydmFsczogNSxcbiAgICBwYW5lbDogZmFsc2UsXG4gIH07XG5cbiAgJC5mbi5yYW5nZVNsaWRlciA9IGZ1bmN0aW9uIGluaXRTbGlkZXJzKG9wdGlvbnM6IFBhcnRpYWw8U2xpZGVyT3B0aW9ucz4gPSB7fSk6IEpRdWVyeSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiBpbml0U2xpZGVyKCkge1xuICAgICAgY29uc3Qgc2V0dGluZ3NGcm9tRGF0YXNldDogUGFydGlhbDxTbGlkZXJPcHRpb25zPiA9IHtcbiAgICAgICAgbWluOiAkKHRoaXMpLmRhdGEoJ21pbicpLFxuICAgICAgICBtYXg6ICQodGhpcykuZGF0YSgnbWF4JyksXG4gICAgICAgIHJhbmdlOiAkKHRoaXMpLmRhdGEoJ3JhbmdlJyksXG4gICAgICAgIGxlZnRWYWx1ZTogJCh0aGlzKS5kYXRhKCdsZWZ0VmFsdWUnKSxcbiAgICAgICAgcmlnaHRWYWx1ZTogJCh0aGlzKS5kYXRhKCdyaWdodFZhbHVlJyksXG4gICAgICAgIHN0ZXA6ICQodGhpcykuZGF0YSgnc3RlcCcpLFxuICAgICAgICBtaW5NYXhMYWJlbHM6ICQodGhpcykuZGF0YSgnbWluTWF4TGFiZWxzJyksXG4gICAgICAgIHZhbHVlTGFiZWxzOiAkKHRoaXMpLmRhdGEoJ3ZhbHVlTGFiZWxzJyksXG4gICAgICAgIHZlcnRpY2FsOiAkKHRoaXMpLmRhdGEoJ3ZlcnRpY2FsJyksXG4gICAgICAgIHNjYWxlOiAkKHRoaXMpLmRhdGEoJ3NjYWxlJyksXG4gICAgICAgIHNjYWxlSW50ZXJ2YWxzOiAkKHRoaXMpLmRhdGEoJ3NjYWxlSW50ZXJ2YWxzJyksXG4gICAgICAgIHBhbmVsOiAkKHRoaXMpLmRhdGEoJ3BhbmVsJyksXG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiB2YWxpZGF0ZShzZXR0aW5nczogU2xpZGVyT3B0aW9ucyk6IFNsaWRlck9wdGlvbnMge1xuICAgICAgICBsZXQgZml4ZWRTZXR0aW5nczogU2xpZGVyT3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBzZXR0aW5ncyk7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlV3JvbmdUeXBlcygpOiB2b2lkIHtcbiAgICAgICAgICBmdW5jdGlvbiBjaGVja1R5cGUocHJvcGVydHk6IGtleW9mIFNsaWRlck9wdGlvbnMpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3NbcHJvcGVydHldICE9PSB0eXBlb2YgZGVmYXVsdHNbcHJvcGVydHldKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBmaXhlZFNldHRpbmdzW3Byb3BlcnR5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKiBUaGVyZSBpcyBubyBPYmplY3Qua2V5cygpLmZvckVhY2ggYmVjYXVzZSBUUyB0aHJvd3MgYW4gZXJyb3I6XG4gICAgICAgICAgICogXCJUeXBlICdzdHJpbmdbXScgaXMgbm90IGFzc2lnbmFibGUgdG8gdHlwZSAna2V5b2YgUmFuZ2VTbGlkZXJPcHRpb25zW10nXCIgKi9cbiAgICAgICAgICBjaGVja1R5cGUoJ21pbicpO1xuICAgICAgICAgIGNoZWNrVHlwZSgnbWF4Jyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCdsZWZ0VmFsdWUnKTtcbiAgICAgICAgICBjaGVja1R5cGUoJ3JpZ2h0VmFsdWUnKTtcbiAgICAgICAgICBjaGVja1R5cGUoJ3JhbmdlJyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCdzdGVwJyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCdtaW5NYXhMYWJlbHMnKTtcbiAgICAgICAgICBjaGVja1R5cGUoJ3ZhbHVlTGFiZWxzJyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCd2ZXJ0aWNhbCcpO1xuICAgICAgICAgIGNoZWNrVHlwZSgnc2NhbGUnKTtcbiAgICAgICAgICBjaGVja1R5cGUoJ3NjYWxlSW50ZXJ2YWxzJyk7XG4gICAgICAgICAgY2hlY2tUeXBlKCdwYW5lbCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbWVyZ2VXaXRoRGVmYXVsdHMoKTogdm9pZCB7XG4gICAgICAgICAgZml4ZWRTZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgZml4ZWRTZXR0aW5ncyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmaXhWYWx1ZXMoKTogdm9pZCB7XG4gICAgICAgICAgaWYgKGZpeGVkU2V0dGluZ3MubWluID4gZml4ZWRTZXR0aW5ncy5tYXgpIHtcbiAgICAgICAgICAgIFtmaXhlZFNldHRpbmdzLm1pbiwgZml4ZWRTZXR0aW5ncy5tYXhdID0gW2ZpeGVkU2V0dGluZ3MubWF4LCBmaXhlZFNldHRpbmdzLm1pbl07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZpeGVkU2V0dGluZ3MubGVmdFZhbHVlIDwgZml4ZWRTZXR0aW5ncy5taW4pIHtcbiAgICAgICAgICAgIGZpeGVkU2V0dGluZ3MubGVmdFZhbHVlID0gZml4ZWRTZXR0aW5ncy5taW47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZpeGVkU2V0dGluZ3MucmlnaHRWYWx1ZSA+IGZpeGVkU2V0dGluZ3MubWF4KSB7XG4gICAgICAgICAgICBmaXhlZFNldHRpbmdzLnJpZ2h0VmFsdWUgPSBmaXhlZFNldHRpbmdzLm1heDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZml4ZWRTZXR0aW5ncy5sZWZ0VmFsdWUgPiBmaXhlZFNldHRpbmdzLm1heCkge1xuICAgICAgICAgICAgZml4ZWRTZXR0aW5ncy5sZWZ0VmFsdWUgPSBmaXhlZFNldHRpbmdzLm1heDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZml4ZWRTZXR0aW5ncy5sZWZ0VmFsdWUgPiBmaXhlZFNldHRpbmdzLnJpZ2h0VmFsdWUpIHtcbiAgICAgICAgICAgIFtmaXhlZFNldHRpbmdzLmxlZnRWYWx1ZSwgZml4ZWRTZXR0aW5ncy5yaWdodFZhbHVlXSA9IChcbiAgICAgICAgICAgICAgW2ZpeGVkU2V0dGluZ3MucmlnaHRWYWx1ZSwgZml4ZWRTZXR0aW5ncy5sZWZ0VmFsdWVdXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChmaXhlZFNldHRpbmdzLnN0ZXAgPiBNYXRoLmFicyhmaXhlZFNldHRpbmdzLm1heCAtIGZpeGVkU2V0dGluZ3MubWluKSkge1xuICAgICAgICAgICAgZml4ZWRTZXR0aW5ncy5zdGVwID0gTWF0aC5hYnMoZml4ZWRTZXR0aW5ncy5tYXggLSBmaXhlZFNldHRpbmdzLm1pbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZpeGVkU2V0dGluZ3Muc2NhbGVJbnRlcnZhbHMgPCAxKSB7XG4gICAgICAgICAgICBmaXhlZFNldHRpbmdzLnNjYWxlSW50ZXJ2YWxzID0gMTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihmaXhlZFNldHRpbmdzLnNjYWxlSW50ZXJ2YWxzKSkge1xuICAgICAgICAgICAgZml4ZWRTZXR0aW5ncy5zY2FsZUludGVydmFscyA9IE1hdGguZmxvb3IoZml4ZWRTZXR0aW5ncy5zY2FsZUludGVydmFscyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVtb3ZlV3JvbmdUeXBlcygpO1xuICAgICAgICBtZXJnZVdpdGhEZWZhdWx0cygpO1xuICAgICAgICBmaXhWYWx1ZXMoKTtcblxuICAgICAgICByZXR1cm4gZml4ZWRTZXR0aW5ncztcbiAgICAgIH1cblxuICAgICAgbGV0IHNldHRpbmdzOiBTbGlkZXJPcHRpb25zID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zLCBzZXR0aW5nc0Zyb21EYXRhc2V0KTtcbiAgICAgIHNldHRpbmdzID0gdmFsaWRhdGUoc2V0dGluZ3MpO1xuXG4gICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEhUTUxEaXZFbGVtZW50KSB7XG4gICAgICAgICQodGhpcykuZGF0YSgncmFuZ2VTbGlkZXInLCBuZXcgU2xpZGVyKHRoaXMsIHNldHRpbmdzKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59KGpRdWVyeSkpO1xuIl0sIm5hbWVzIjpbIkV2ZW50TWFuYWdlciIsImxpc3RlbmVycyIsInN1YnNjcmliZSIsImxpc3RlbmVyIiwidGhpcyIsInB1c2giLCJ1bnN1YnNjcmliZSIsImZpbHRlciIsIml0ZW0iLCJub3RpZnkiLCJldmVudFR5cGUiLCJkYXRhIiwibGVuZ3RoIiwiZm9yRWFjaCIsImluZm9ybSIsImNvbnN0cnVjdG9yIiwidGFnIiwiY2xhc3NOYW1lIiwiY29tcG9uZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZWxlbWVudCIsImdldENvbXBvbmVudCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdldFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJnZXRIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJzZXRJbmRlbnQiLCJzaWRlIiwiaW5kZW50Iiwic3R5bGUiLCJyZW1vdmUiLCJ2aWV3Iiwic3VwZXIiLCJhdHRhY2hFdmVudEhhbmRsZXJzIiwiYXBwZW5kIiwiZWxlbWVudHMiLCJoYW5kbGVDbGljayIsImV2ZW50IiwiY3VycmVudFRhcmdldCIsIkhUTUxFbGVtZW50IiwieCIsImNsaWVudFgiLCJsZWZ0IiwieSIsImNsaWVudFkiLCJ0b3AiLCJoYW5kbGVTY2FsZU9yVHJhY2tDbGljayIsImFkZEV2ZW50TGlzdGVuZXIiLCJiaW5kIiwic2V0V2lkdGgiLCJwZXJjZW50Iiwid2lkdGgiLCJzZXRIZWlnaHQiLCJoZWlnaHQiLCJyZXNldFdpZHRoIiwicmVzZXRIZWlnaHQiLCJyZXNldFRvcEluZGVudCIsIlRodW1iIiwidHlwZSIsImdldExlZnRJbmRlbnQiLCJnZXRUb3BJbmRlbnQiLCJzZXRaSW5kZXgiLCJ2YWx1ZSIsInpJbmRleCIsImNsYXNzTGlzdCIsImFkZCIsImhhbmRsZVBvaW50ZXJEb3duIiwic2V0UG9pbnRlckNhcHR1cmUiLCJwb2ludGVySWQiLCJwcmV2ZW50RGVmYXVsdCIsInNoaWZ0WCIsInNoaWZ0WSIsImhhbmRsZVBvaW50ZXJNb3ZlIiwibmV3RXZlbnQiLCJoYW5kbGVMZWZ0SW5wdXQiLCJoYW5kbGVSaWdodElucHV0IiwiaGFuZGxlUG9pbnRlclVwIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZVBvaW50ZXJPdmVyIiwiaGFuZGxlUG9pbnRlck91dCIsImhhbmRsZURyYWdTdGFydCIsIm1pbiIsIm1heCIsImludGVydmFscyIsInZhbHVlcyIsInZhbHVlRWxlbWVudHMiLCJpbnRlcnZhbHNOdW1iZXIiLCJnZXRTY2FsZUludGVydmFscyIsImNyZWF0ZUludGVydmFscyIsImFkZE1hcmtzSW5JbnRlcnZhbHMiLCJhZGRWYWx1ZXMiLCJmaXRXaWR0aEZvclZlcnRpY2FsIiwibWF4V2lkdGgiLCJ2YWx1ZUVsZW1lbnQiLCJwYWRkaW5nUmlnaHQiLCJmaXRIZWlnaHRGb3JIb3Jpem9udGFsIiwibWF4SGVpZ2h0IiwicGFkZGluZ0JvdHRvbSIsImhhbmRsZVN3aXRjaEZyb21Ib3Jpem9udGFsVG9WZXJ0aWNhbCIsImhhbmRsZVN3aXRjaEZyb21WZXJ0aWNhbFRvSG9yaXpvbnRhbCIsImZyYWdtZW50IiwiRG9jdW1lbnRGcmFnbWVudCIsImkiLCJzdGVwIiwibnVtYmVyT2ZEaWdpdHNBZnRlclBvaW50IiwiTWF0aCIsInJvdW5kIiwidG9TdHJpbmciLCJOdW1iZXIiLCJ0b0ZpeGVkIiwidGV4dENvbnRlbnQiLCJuZXdWYWx1ZUVsZW1lbnQiLCJmaXhXaWR0aEZvclZlcnRpY2FsIiwibGFiZWxzIiwibGFiZWwiLCJwYWRkaW5nTGVmdCIsImZpeEhlaWdodEZvckhvcml6b250YWwiLCJwYWRkaW5nVG9wIiwic2V0T3BhY2l0eSIsIm9wYWNpdHkiLCJzZXRWYWx1ZSIsImdldFZhbHVlIiwic2V0QXR0cmlidXRlcyIsInZhbHVlMSIsInZhbHVlMiIsInRhYkluZGV4IiwicmVhZE9ubHkiLCJQYW5lbCIsImZyb20iLCJ0byIsInZlcnRpY2FsIiwicmFuZ2UiLCJzY2FsZSIsInNjYWxlSW50ZXJ2YWxzIiwidmFsdWVMYWJlbHMiLCJtaW5NYXhMYWJlbHMiLCJyZW5kZXIiLCJzZXRWYWx1ZXMiLCJvcHRpb25zIiwiY2hlY2tlZCIsInNldENoZWNrTWFya3MiLCJ1cGRhdGVGcm9tIiwidXBkYXRlQXR0cmlidXRlc0FmdGVyRnJvbUNoYW5nZSIsInVwZGF0ZVRvIiwidXBkYXRlQXR0cmlidXRlc0FmdGVyVG9DaGFuZ2UiLCJ1cGRhdGVTdGVwIiwidXBkYXRlQXR0cmlidXRlc0FmdGVyU3RlcENoYW5nZSIsInVwZGF0ZU1pbiIsInVwZGF0ZUF0dHJpYnV0ZXNBZnRlck1pbkNoYW5nZSIsInVwZGF0ZU1heCIsInVwZGF0ZUF0dHJpYnV0ZXNBZnRlck1heENoYW5nZSIsInVwZGF0ZVNjYWxlSW50ZXJ2YWxzIiwiaW5wdXQiLCJuYW1lIiwiaXNJbnRlZ2VyIiwicmVzdWx0Iiwic3BsaXQiLCJjbG9zZXN0IiwidG9nZ2xlIiwic2V0VHlwZXMiLCJhZGRMYWJlbCIsImNhbGNTdGVwTWluIiwiYWJzIiwiZGlzYWJsZWQiLCJjaGVja2JveCIsInRvZ2dsZUNoZWNrYm94IiwiaXNSYW5nZSIsImhhbmRsZU1pbkNoYW5nZSIsInNldE1pbkZyb21PdXRzaWRlIiwiaGFuZGxlTWF4Q2hhbmdlIiwic2V0TWF4RnJvbU91dHNpZGUiLCJoYW5kbGVTdGVwQ2hhbmdlIiwic2V0U3RlcEZyb21PdXRzaWRlIiwiaGFuZGxlRnJvbUNoYW5nZSIsInNldExlZnRGcm9tT3V0c2lkZSIsImhhbmRsZVRvQ2hhbmdlIiwic2V0UmlnaHRGcm9tT3V0c2lkZSIsImhhbmRsZVZlcnRpY2FsQ2hhbmdlIiwidG9nZ2xlT3JpZW50YXRpb25Gcm9tT3V0c2lkZSIsImhhbmRsZVJhbmdlQ2hhbmdlIiwidG9nZ2xlUmFuZ2VGcm9tT3V0c2lkZSIsImhhbmRsZVNjYWxlQ2hhbmdlIiwidG9nZ2xlU2NhbGVGcm9tT3V0c2lkZSIsImhhbmRsZVNjYWxlSW50ZXJ2YWxzQ2hhbmdlIiwiZmxvb3IiLCJzZXRTY2FsZUludGVydmFscyIsImhhbmRsZVZhbHVlTGFiZWxzQ2hhbmdlIiwidG9nZ2xlVmFsdWVMYWJlbHMiLCJoYW5kbGVNaW5NYXhMYWJlbHNDaGFuZ2UiLCJ0b2dnbGVNaW5NYXhMYWJlbHMiLCJldmVudE1hbmFnZXIiLCJzbGlkZXIiLCJ0cmFjayIsInRodW1iTGVmdCIsInRodW1iUmlnaHQiLCJsYWJlbHNDb250YWluZXIiLCJtaW5MYWJlbCIsIm1heExhYmVsIiwidmFsdWVMYWJlbExlZnQiLCJ2YWx1ZUxhYmVsUmlnaHQiLCJ2YWx1ZUxhYmVsQ29tbW9uIiwicGFuZWwiLCJzZXRNaW5WYWx1ZSIsInNldE1heFZhbHVlIiwic2V0TGVmdFZhbHVlIiwiaXNUd29WYWx1ZUxhYmVsc0Nsb3NlIiwibWVyZ2VMYWJlbHMiLCJzcGxpdExhYmVscyIsImlzTGVmdFZhbHVlTGFiZWxDbG9zZVRvTWluTGFiZWwiLCJpc0xlZnRWYWx1ZUxhYmVsQ2xvc2VUb01heExhYmVsIiwic2V0UmlnaHRWYWx1ZSIsImlzUmlnaHRWYWx1ZUxhYmVsQ2xvc2VUb01heExhYmVsIiwidXBkYXRlSW5wdXQiLCJ0cmFja1NoaWZ0IiwibmV3TGVmdCIsInRyYWNrV2lkdGgiLCJnZXRUcmFja1dpZHRoIiwicmlnaHRUaHVtYlBvc2l0aW9uIiwibmV3VG9wIiwidHJhY2tIZWlnaHQiLCJnZXRUcmFja0hlaWdodCIsIm5ld0JvdHRvbSIsImxlZnRUaHVtYlBvc2l0aW9uIiwiYWRkU2NhbGUiLCJhZnRlciIsInJlbW92ZVNjYWxlIiwidW5kZWZpbmVkIiwiYWRkU21vb3RoVHJhbnNpdGlvbiIsInNldFRpbWVvdXQiLCJyZW1vdmVTbW9vdGhUcmFuc2l0aW9uIiwid2hpY2hUaHVtYklzTmVhcmVyIiwiZml4TGFiZWxzQ29udGFpbmVyV2lkdGhGb3JWZXJ0aWNhbCIsImNvbGxlY3RMYWJlbHMiLCJmaXhMYWJlbHNDb250YWluZXJIZWlnaHRGb3JIb3Jpem9udGFsIiwic2V0UGFuZWxWYWx1ZXMiLCJ1cGRhdGVQYW5lbEZyb20iLCJ1cGRhdGVQYW5lbFRvIiwidXBkYXRlUGFuZWxTY2FsZUludGVydmFscyIsInVwZGF0ZVBhbmVsU3RlcCIsInVwZGF0ZVBhbmVsTWluIiwidXBkYXRlUGFuZWxNYXgiLCJkZXN0cm95IiwiaGFzTGFiZWxzIiwiYmVmb3JlIiwiQm9vbGVhbiIsImhhc1NjYWxlIiwiaGFzTWluTWF4TGFiZWxzIiwiaGFzVmFsdWVMYWJlbHMiLCJoYXNQYW5lbCIsImlzVmVydGljYWwiLCJwYW5lbFdyYXBwZXIiLCJjaGlsZHJlbiIsImRpc3RhbmNlQmV0d2VlblRodW1icyIsInBhcnNlSW50IiwiaXNUd29MYWJlbHNDbG9zZSIsImxhYmVsMSIsImxhYmVsMiIsImJvdHRvbSIsImxlZnRMYWJlbEVkZ2UiLCJyaWdodCIsImxlZnRUaHVtYkNvb3JkcyIsInJpZ2h0VGh1bWJDb29yZHMiLCJ0cmFja0Nvb3JkcyIsImRpc3RhbmNlRnJvbUxlZnRUaHVtYkNlbnRlciIsImRpc3RhbmNlRnJvbVJpZ2h0VGh1bWJDZW50ZXIiLCJsZWZ0VGh1bWJDZW50ZXIiLCJyaWdodFRodW1iQ2VudGVyIiwiUHJlc2VudGVyIiwibW9kZWwiLCJpbml0Vmlld1ZhbHVlcyIsImhhbmRsZVZpZXdJbnB1dExlZnQiLCJoYW5kbGVWaWV3SW5wdXRSaWdodCIsImhhbmRsZVZpZXdTZXRMZWZ0RnJvbU91dHNpZGUiLCJoYW5kbGVWaWV3U2V0UmlnaHRGcm9tT3V0c2lkZSIsImhhbmRsZVZpZXdTZXRNaW4iLCJoYW5kbGVWaWV3U2V0TWF4IiwiaGFuZGxlVmlld1NldFN0ZXAiLCJoYW5kbGVWaWV3VG9nZ2xlT3JpZW50YXRpb24iLCJoYW5kbGVWaWV3VG9nZ2xlUmFuZ2UiLCJoYW5kbGVWaWV3VG9nZ2xlU2NhbGUiLCJoYW5kbGVWaWV3U2V0U2NhbGVJbnRlcnZhbHMiLCJoYW5kbGVWaWV3QWRkVmFsdWVMYWJlbHMiLCJoYW5kbGVWaWV3QWRkTWluTWF4TGFiZWxzIiwiaGFuZGxlTW9kZWxTZXRMZWZ0IiwiaGFuZGxlTW9kZWxTZXRSaWdodCIsImhhbmRsZU1vZGVsU2V0TWluIiwiaGFuZGxlTW9kZWxTZXRNYXgiLCJoYW5kbGVNb2RlbFRvZ2dsZVJhbmdlIiwiaGFuZGxlTW9kZWxTZXRTdGVwIiwiZ2V0TWluIiwiZ2V0TWF4IiwibGVmdFZhbHVlIiwiZ2V0TGVmdFZhbHVlIiwicmlnaHRWYWx1ZSIsImdldFJpZ2h0VmFsdWUiLCJwYXNzTGVmdFZhbHVlVG9WaWV3IiwicGFzc1JpZ2h0VmFsdWVUb1ZpZXciLCJnZXRTdGVwIiwicHgiLCJjb252ZXJ0UHhUb1ZhbHVlIiwidXBkYXRlVmlld0lucHV0IiwiY29udmVydFZhbHVlVG9QZXJjZW50IiwicmVtb3ZlQ2FsY0luYWNjdXJhY3kiLCJmaXRUb1N0ZXAiLCJzZXRNaW4iLCJzZXRNYXgiLCJzZXRTdGVwIiwidG9nZ2xlUmFuZ2UiLCJyZW1vdmVSaWdodFZhbHVlIiwiU2xpZGVyIiwicHJlc2VudGVyIiwib25DaGFuZ2UiLCJqUSIsIiQiLCJkZWZhdWx0cyIsImZuIiwicmFuZ2VTbGlkZXIiLCJlYWNoIiwic2V0dGluZ3NGcm9tRGF0YXNldCIsInNldHRpbmdzIiwiZXh0ZW5kIiwiZml4ZWRTZXR0aW5ncyIsImNoZWNrVHlwZSIsInByb3BlcnR5IiwicmVtb3ZlV3JvbmdUeXBlcyIsInZhbGlkYXRlIiwiSFRNTERpdkVsZW1lbnQiXSwic291cmNlUm9vdCI6IiJ9